{"ast":null,"code":"import _defineProperty from \"/Users/yezery/Oasis/OASIS/node_modules/.store/@babel+runtime@7.22.15/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport { convertToIpNet } from '../convert.js';\nimport { multiaddr } from '../index.js';\n/**\n * A utility class to determine if a Multiaddr contains another\n * multiaddr.\n *\n * This can be used with ipcidr ranges to determine if a given\n * multiaddr is in a ipcidr range.\n *\n * @example\n *\n * ```js\n * import { multiaddr, MultiaddrFilter } from '@multiformats/multiaddr'\n *\n * const range = multiaddr('/ip4/192.168.10.10/ipcidr/24')\n * const filter = new MultiaddrFilter(range)\n *\n * const input = multiaddr('/ip4/192.168.10.2/udp/60')\n * console.info(filter.contains(input)) // true\n * ```\n */\nexport class MultiaddrFilter {\n  constructor(input) {\n    _defineProperty(this, \"multiaddr\", void 0);\n    _defineProperty(this, \"netmask\", void 0);\n    this.multiaddr = multiaddr(input);\n    this.netmask = convertToIpNet(this.multiaddr);\n  }\n  contains(input) {\n    if (input == null) return false;\n    const m = multiaddr(input);\n    let ip;\n    for (const [code, value] of m.stringTuples()) {\n      if (code === 4 || code === 41) {\n        ip = value;\n        break;\n      }\n    }\n    if (ip === undefined) return false;\n    return this.netmask.contains(ip);\n  }\n}","map":{"version":3,"names":["convertToIpNet","multiaddr","MultiaddrFilter","constructor","input","_defineProperty","netmask","contains","m","ip","code","value","stringTuples","undefined"],"sources":["../../../src/filter/multiaddr-filter.ts"],"sourcesContent":[null],"mappings":";AAAA,SAASA,cAAc,QAAQ,eAAe;AAC9C,SAASC,SAAS,QAA6C,aAAa;AAG5E;;;;;;;;;;;;;;;;;;;AAmBA,OAAM,MAAOC,eAAe;EAI1BC,YAAoBC,KAAqB;IAAAC,eAAA;IAAAA,eAAA;IACvC,IAAI,CAACJ,SAAS,GAAGA,SAAS,CAACG,KAAK,CAAC;IACjC,IAAI,CAACE,OAAO,GAAGN,cAAc,CAAC,IAAI,CAACC,SAAS,CAAC;EAC/C;EAEOM,QAAQA,CAAEH,KAAqB;IACpC,IAAIA,KAAK,IAAI,IAAI,EAAE,OAAO,KAAK;IAC/B,MAAMI,CAAC,GAAGP,SAAS,CAACG,KAAK,CAAC;IAC1B,IAAIK,EAAE;IACN,KAAK,MAAM,CAACC,IAAI,EAAEC,KAAK,CAAC,IAAIH,CAAC,CAACI,YAAY,EAAE,EAAE;MAC5C,IAAIF,IAAI,KAAK,CAAC,IAAIA,IAAI,KAAK,EAAE,EAAE;QAC7BD,EAAE,GAAGE,KAAK;QACV;;;IAGJ,IAAIF,EAAE,KAAKI,SAAS,EAAE,OAAO,KAAK;IAClC,OAAO,IAAI,CAACP,OAAO,CAACC,QAAQ,CAACE,EAAE,CAAC;EAClC"},"metadata":{},"sourceType":"module","externalDependencies":[]}