{"ast":null,"code":"import { search } from '@/api/axios/ownerContractLIst';\nexport default {\n  data() {\n    return {\n      SearchVo: {\n        key: \"\"\n      },\n      results: [],\n      timeout: null\n    };\n  },\n  mounted() {},\n  methods: {\n    querySearch(queryString, cb) {\n      var restaurants = this.restaurants;\n      var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n      // 调用 callback 返回建议列表的数据\n      cb(results);\n    },\n    async querySearchAsync(queryString, cb) {\n      // 声明一个变量restaurants，用于存储餐厅列表\n      // var restaurants = this.restaurants;\n      // 声明一个变量results，用于存储过滤后的餐厅列表\n      // var results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants;\n\n      // // 清除超时定时器\n      // clearTimeout(this.timeout);\n      // // 重新设置超时定时器，以防止每次输入搜索字符串时，都会触发超时回调函数\n      // this.timeout = setTimeout(() => {\n      //   cb(results);\n      // }, 3000 * Math.random());\n      await search(this.SearchVo).then(re => {\n        this.restaurants = re.data.data;\n        console.log(re.data.data);\n      });\n    },\n    createStateFilter(queryString) {\n      return state => {\n        return state.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0;\n      };\n    },\n    handleSelect(item) {\n      console.log(item);\n    }\n  }\n};","map":{"version":3,"names":["search","data","SearchVo","key","results","timeout","mounted","methods","querySearch","queryString","cb","restaurants","filter","createFilter","querySearchAsync","then","re","console","log","createStateFilter","state","value","toLowerCase","indexOf","handleSelect","item"],"sources":["src/views/topMenu/oasisSearch.vue"],"sourcesContent":["<template>\n  <div class=\"searchBox \">\n    <el-autocomplete\n      class=\"search\"\n      v-model=\"SearchVo.key\"\n      :fetch-suggestions=\"querySearchAsync\"\n      placeholder=\"Search any collection\"\n      :trigger-on-focus=\"false\"\n      @keydown.enter.prevent.stop=\"handleSelect\"\n      :clearable=\"true\"\n    />\n    <!-- @select=\"handleSelect\" -->\n  </div>\n</template>\n\n<script>\nimport { search } from '@/api/axios/ownerContractLIst';\n  export default {\n    data() {\n      return {\n        SearchVo: {\n          key:\"\"\n        },\n        results: [],\n        timeout:  null\n      };\n  },\n  mounted() {\n  },\n  methods: {\n    querySearch(queryString, cb) {\n        var restaurants = this.restaurants;\n        var results = queryString ? restaurants.filter(this.createFilter(queryString)) : restaurants;\n        // 调用 callback 返回建议列表的数据\n        cb(results);\n      },\n     async querySearchAsync(queryString, cb) {\n        // 声明一个变量restaurants，用于存储餐厅列表\n        // var restaurants = this.restaurants;\n        // 声明一个变量results，用于存储过滤后的餐厅列表\n        // var results = queryString ? restaurants.filter(this.createStateFilter(queryString)) : restaurants;\n\n        // // 清除超时定时器\n        // clearTimeout(this.timeout);\n        // // 重新设置超时定时器，以防止每次输入搜索字符串时，都会触发超时回调函数\n        // this.timeout = setTimeout(() => {\n        //   cb(results);\n      // }, 3000 * Math.random());\n      await search(this.SearchVo).then(re => { this.restaurants = re.data.data; console.log(re.data.data);})\n      },\n      createStateFilter(queryString) {\n        return (state) => {\n          return (state.value.toLowerCase().indexOf(queryString.toLowerCase()) === 0);\n        };\n      },\n      handleSelect(item) {\n        console.log(item);\n      }\n    },\n  };\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/style/topMenu/search.scss\";\n</style>\n"],"mappings":"AAgBA,SAAAA,MAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;QACAC,GAAA;MACA;MACAC,OAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA,GACA;EACAC,OAAA;IACAC,YAAAC,WAAA,EAAAC,EAAA;MACA,IAAAC,WAAA,QAAAA,WAAA;MACA,IAAAP,OAAA,GAAAK,WAAA,GAAAE,WAAA,CAAAC,MAAA,MAAAC,YAAA,CAAAJ,WAAA,KAAAE,WAAA;MACA;MACAD,EAAA,CAAAN,OAAA;IACA;IACA,MAAAU,iBAAAL,WAAA,EAAAC,EAAA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA,MAAAV,MAAA,MAAAE,QAAA,EAAAa,IAAA,CAAAC,EAAA;QAAA,KAAAL,WAAA,GAAAK,EAAA,CAAAf,IAAA,CAAAA,IAAA;QAAAgB,OAAA,CAAAC,GAAA,CAAAF,EAAA,CAAAf,IAAA,CAAAA,IAAA;MAAA;IACA;IACAkB,kBAAAV,WAAA;MACA,OAAAW,KAAA;QACA,OAAAA,KAAA,CAAAC,KAAA,CAAAC,WAAA,GAAAC,OAAA,CAAAd,WAAA,CAAAa,WAAA;MACA;IACA;IACAE,aAAAC,IAAA;MACAR,OAAA,CAAAC,GAAA,CAAAO,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}