{"ast":null,"code":"'use strict';\n\nconst ModuleError = require('module-error');\nconst formats = new Set(['buffer', 'view', 'utf8']);\n\n/**\n * @template TIn, TFormat, TOut\n * @abstract\n */\nclass Encoding {\n  /**\n   * @param {IEncoding<TIn,TFormat,TOut>} options\n   */\n  constructor(options) {\n    /** @type {(data: TIn) => TFormat} */\n    this.encode = options.encode || this.encode;\n\n    /** @type {(data: TFormat) => TOut} */\n    this.decode = options.decode || this.decode;\n\n    /** @type {string} */\n    this.name = options.name || this.name;\n\n    /** @type {string} */\n    this.format = options.format || this.format;\n    if (typeof this.encode !== 'function') {\n      throw new TypeError(\"The 'encode' property must be a function\");\n    }\n    if (typeof this.decode !== 'function') {\n      throw new TypeError(\"The 'decode' property must be a function\");\n    }\n    this.encode = this.encode.bind(this);\n    this.decode = this.decode.bind(this);\n    if (typeof this.name !== 'string' || this.name === '') {\n      throw new TypeError(\"The 'name' property must be a string\");\n    }\n    if (typeof this.format !== 'string' || !formats.has(this.format)) {\n      throw new TypeError(\"The 'format' property must be one of 'buffer', 'view', 'utf8'\");\n    }\n    if (options.createViewTranscoder) {\n      this.createViewTranscoder = options.createViewTranscoder;\n    }\n    if (options.createBufferTranscoder) {\n      this.createBufferTranscoder = options.createBufferTranscoder;\n    }\n    if (options.createUTF8Transcoder) {\n      this.createUTF8Transcoder = options.createUTF8Transcoder;\n    }\n  }\n  get commonName() {\n    return (/** @type {string} */this.name.split('+')[0]\n    );\n  }\n\n  /** @return {BufferFormat<TIn,TOut>} */\n  createBufferTranscoder() {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'buffer'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    });\n  }\n\n  /** @return {ViewFormat<TIn,TOut>} */\n  createViewTranscoder() {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'view'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    });\n  }\n\n  /** @return {UTF8Format<TIn,TOut>} */\n  createUTF8Transcoder() {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'utf8'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    });\n  }\n}\nexports.Encoding = Encoding;\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @typedef {import('./formats').BufferFormat<TIn,TOut>} BufferFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').ViewFormat<TIn,TOut>} ViewFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').UTF8Format<TIn,TOut>} UTF8Format\n * @template TIn, TOut\n */","map":{"version":3,"names":["ModuleError","require","formats","Set","Encoding","constructor","options","encode","decode","name","format","TypeError","bind","has","createViewTranscoder","createBufferTranscoder","createUTF8Transcoder","commonName","split","code","exports"],"sources":["/Users/yezery/Oasis/OASIS/node_modules/.store/level-transcoder@1.0.1/node_modules/level-transcoder/lib/encoding.js"],"sourcesContent":["'use strict'\n\nconst ModuleError = require('module-error')\nconst formats = new Set(['buffer', 'view', 'utf8'])\n\n/**\n * @template TIn, TFormat, TOut\n * @abstract\n */\nclass Encoding {\n  /**\n   * @param {IEncoding<TIn,TFormat,TOut>} options\n   */\n  constructor (options) {\n    /** @type {(data: TIn) => TFormat} */\n    this.encode = options.encode || this.encode\n\n    /** @type {(data: TFormat) => TOut} */\n    this.decode = options.decode || this.decode\n\n    /** @type {string} */\n    this.name = options.name || this.name\n\n    /** @type {string} */\n    this.format = options.format || this.format\n\n    if (typeof this.encode !== 'function') {\n      throw new TypeError(\"The 'encode' property must be a function\")\n    }\n\n    if (typeof this.decode !== 'function') {\n      throw new TypeError(\"The 'decode' property must be a function\")\n    }\n\n    this.encode = this.encode.bind(this)\n    this.decode = this.decode.bind(this)\n\n    if (typeof this.name !== 'string' || this.name === '') {\n      throw new TypeError(\"The 'name' property must be a string\")\n    }\n\n    if (typeof this.format !== 'string' || !formats.has(this.format)) {\n      throw new TypeError(\"The 'format' property must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    if (options.createViewTranscoder) {\n      this.createViewTranscoder = options.createViewTranscoder\n    }\n\n    if (options.createBufferTranscoder) {\n      this.createBufferTranscoder = options.createBufferTranscoder\n    }\n\n    if (options.createUTF8Transcoder) {\n      this.createUTF8Transcoder = options.createUTF8Transcoder\n    }\n  }\n\n  get commonName () {\n    return /** @type {string} */ (this.name.split('+')[0])\n  }\n\n  /** @return {BufferFormat<TIn,TOut>} */\n  createBufferTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'buffer'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {ViewFormat<TIn,TOut>} */\n  createViewTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'view'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {UTF8Format<TIn,TOut>} */\n  createUTF8Transcoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'utf8'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n}\n\nexports.Encoding = Encoding\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @typedef {import('./formats').BufferFormat<TIn,TOut>} BufferFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').ViewFormat<TIn,TOut>} ViewFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').UTF8Format<TIn,TOut>} UTF8Format\n * @template TIn, TOut\n */\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,WAAW,GAAGC,OAAO,CAAC,cAAc,CAAC;AAC3C,MAAMC,OAAO,GAAG,IAAIC,GAAG,CAAC,CAAC,QAAQ,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;;AAEnD;AACA;AACA;AACA;AACA,MAAMC,QAAQ,CAAC;EACb;AACF;AACA;EACEC,WAAWA,CAAEC,OAAO,EAAE;IACpB;IACA,IAAI,CAACC,MAAM,GAAGD,OAAO,CAACC,MAAM,IAAI,IAAI,CAACA,MAAM;;IAE3C;IACA,IAAI,CAACC,MAAM,GAAGF,OAAO,CAACE,MAAM,IAAI,IAAI,CAACA,MAAM;;IAE3C;IACA,IAAI,CAACC,IAAI,GAAGH,OAAO,CAACG,IAAI,IAAI,IAAI,CAACA,IAAI;;IAErC;IACA,IAAI,CAACC,MAAM,GAAGJ,OAAO,CAACI,MAAM,IAAI,IAAI,CAACA,MAAM;IAE3C,IAAI,OAAO,IAAI,CAACH,MAAM,KAAK,UAAU,EAAE;MACrC,MAAM,IAAII,SAAS,CAAC,0CAA0C,CAAC;IACjE;IAEA,IAAI,OAAO,IAAI,CAACH,MAAM,KAAK,UAAU,EAAE;MACrC,MAAM,IAAIG,SAAS,CAAC,0CAA0C,CAAC;IACjE;IAEA,IAAI,CAACJ,MAAM,GAAG,IAAI,CAACA,MAAM,CAACK,IAAI,CAAC,IAAI,CAAC;IACpC,IAAI,CAACJ,MAAM,GAAG,IAAI,CAACA,MAAM,CAACI,IAAI,CAAC,IAAI,CAAC;IAEpC,IAAI,OAAO,IAAI,CAACH,IAAI,KAAK,QAAQ,IAAI,IAAI,CAACA,IAAI,KAAK,EAAE,EAAE;MACrD,MAAM,IAAIE,SAAS,CAAC,sCAAsC,CAAC;IAC7D;IAEA,IAAI,OAAO,IAAI,CAACD,MAAM,KAAK,QAAQ,IAAI,CAACR,OAAO,CAACW,GAAG,CAAC,IAAI,CAACH,MAAM,CAAC,EAAE;MAChE,MAAM,IAAIC,SAAS,CAAC,+DAA+D,CAAC;IACtF;IAEA,IAAIL,OAAO,CAACQ,oBAAoB,EAAE;MAChC,IAAI,CAACA,oBAAoB,GAAGR,OAAO,CAACQ,oBAAoB;IAC1D;IAEA,IAAIR,OAAO,CAACS,sBAAsB,EAAE;MAClC,IAAI,CAACA,sBAAsB,GAAGT,OAAO,CAACS,sBAAsB;IAC9D;IAEA,IAAIT,OAAO,CAACU,oBAAoB,EAAE;MAChC,IAAI,CAACA,oBAAoB,GAAGV,OAAO,CAACU,oBAAoB;IAC1D;EACF;EAEA,IAAIC,UAAUA,CAAA,EAAI;IAChB,OAAO,sBAAuB,IAAI,CAACR,IAAI,CAACS,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;IAAC;EACvD;;EAEA;EACAH,sBAAsBA,CAAA,EAAI;IACxB,MAAM,IAAIf,WAAW,CAAE,aAAY,IAAI,CAACS,IAAK,oCAAmC,EAAE;MAChFU,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;;EAEA;EACAL,oBAAoBA,CAAA,EAAI;IACtB,MAAM,IAAId,WAAW,CAAE,aAAY,IAAI,CAACS,IAAK,kCAAiC,EAAE;MAC9EU,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;;EAEA;EACAH,oBAAoBA,CAAA,EAAI;IACtB,MAAM,IAAIhB,WAAW,CAAE,aAAY,IAAI,CAACS,IAAK,kCAAiC,EAAE;MAC9EU,IAAI,EAAE;IACR,CAAC,CAAC;EACJ;AACF;AAEAC,OAAO,CAAChB,QAAQ,GAAGA,QAAQ;;AAE3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA"},"metadata":{},"sourceType":"script","externalDependencies":[]}