{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nexport class TimeoutError extends Error {\n  constructor(message) {\n    super(message);\n    this.name = 'TimeoutError';\n  }\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n  constructor(message) {\n    super();\n    this.name = 'AbortError';\n    this.message = message;\n  }\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined ? new AbortError(errorMessage) : new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n  const reason = signal.reason === undefined ? getDOMException('This operation was aborted.') : signal.reason;\n  return reason instanceof Error ? reason : getDOMException(reason);\n};\nexport default function pTimeout(promise, milliseconds, fallback, options) {\n  let timer;\n  const cancelablePromise = new Promise((resolve, reject) => {\n    if (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n      throw new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n    }\n    if (milliseconds === Number.POSITIVE_INFINITY) {\n      resolve(promise);\n      return;\n    }\n    options = {\n      customTimers: {\n        setTimeout,\n        clearTimeout\n      },\n      ...options\n    };\n    if (options.signal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        reject(getAbortedReason(signal));\n      }\n      signal.addEventListener('abort', () => {\n        reject(getAbortedReason(signal));\n      });\n    }\n    timer = options.customTimers.setTimeout.call(undefined, () => {\n      if (typeof fallback === 'function') {\n        try {\n          resolve(fallback());\n        } catch (error) {\n          reject(error);\n        }\n        return;\n      }\n      const message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n      const timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n      if (typeof promise.cancel === 'function') {\n        promise.cancel();\n      }\n      reject(timeoutError);\n    }, milliseconds);\n    (async () => {\n      try {\n        resolve(await promise);\n      } catch (error) {\n        reject(error);\n      } finally {\n        options.customTimers.clearTimeout.call(undefined, timer);\n      }\n    })();\n  });\n  cancelablePromise.clear = () => {\n    clearTimeout(timer);\n    timer = undefined;\n  };\n  return cancelablePromise;\n}","map":{"version":3,"names":["TimeoutError","Error","constructor","message","name","AbortError","getDOMException","errorMessage","globalThis","DOMException","undefined","getAbortedReason","signal","reason","pTimeout","promise","milliseconds","fallback","options","timer","cancelablePromise","Promise","resolve","reject","Math","sign","TypeError","Number","POSITIVE_INFINITY","customTimers","setTimeout","clearTimeout","aborted","addEventListener","call","error","timeoutError","cancel","clear"],"sources":["/Users/yezery/Oasis/OASIS/node_modules/.store/p-timeout@5.1.0/node_modules/p-timeout/index.js"],"sourcesContent":["export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined ?\n\tnew AbortError(errorMessage) :\n\tnew DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined ?\n\t\tgetDOMException('This operation was aborted.') :\n\t\tsignal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, milliseconds, fallback, options) {\n\tlet timer;\n\n\tconst cancelablePromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tresolve(promise);\n\t\t\treturn;\n\t\t}\n\n\t\toptions = {\n\t\t\tcustomTimers: {setTimeout, clearTimeout},\n\t\t\t...options\n\t\t};\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\ttimer = options.customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (typeof fallback === 'function') {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\tconst timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\treject(timeoutError);\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t} finally {\n\t\t\t\toptions.customTimers.clearTimeout.call(undefined, timer);\n\t\t\t}\n\t\t})();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tclearTimeout(timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}