{"ast":null,"code":"\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nrequire(\"core-js/modules/es.typed-array.to-reversed.js\");\nrequire(\"core-js/modules/es.typed-array.to-sorted.js\");\nrequire(\"core-js/modules/es.typed-array.with.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BrowserRandomSource = void 0;\nconst QUOTA = 65536;\nclass BrowserRandomSource {\n  constructor() {\n    this.isAvailable = false;\n    this.isInstantiated = false;\n    const browserCrypto = typeof self !== 'undefined' ? self.crypto || self.msCrypto // IE11 has msCrypto\n    : null;\n    if (browserCrypto && browserCrypto.getRandomValues !== undefined) {\n      this._crypto = browserCrypto;\n      this.isAvailable = true;\n      this.isInstantiated = true;\n    }\n  }\n  randomBytes(length) {\n    if (!this.isAvailable || !this._crypto) {\n      throw new Error(\"Browser random byte generator is not available.\");\n    }\n    const out = new Uint8Array(length);\n    for (let i = 0; i < out.length; i += QUOTA) {\n      this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n    }\n    return out;\n  }\n}\nexports.BrowserRandomSource = BrowserRandomSource;","map":{"version":3,"names":["require","QUOTA","BrowserRandomSource","constructor","isAvailable","isInstantiated","browserCrypto","self","crypto","msCrypto","getRandomValues","undefined","_crypto","randomBytes","length","Error","out","Uint8Array","i","subarray","Math","min","exports"],"sources":["../../source/browser.ts"],"sourcesContent":[null],"mappings":";;AAAA;AACA;AAAAA,OAAA;AAAAA,OAAA;AAAAA,OAAA;;;;;AAIA,MAAMC,KAAK,GAAG,KAAK;AAEnB,MAAaC,mBAAmB;EAM5BC,YAAA;IALA,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,cAAc,GAAG,KAAK;IAKlB,MAAMC,aAAa,GAAG,OAAOC,IAAI,KAAK,WAAW,GAC1CA,IAAI,CAACC,MAAM,IAAKD,IAA2B,CAACE,QAAQ,CAAE;IAAA,EACvD,IAAI;IAEV,IAAIH,aAAa,IAAIA,aAAa,CAACI,eAAe,KAAKC,SAAS,EAAE;MAC9D,IAAI,CAACC,OAAO,GAAGN,aAAa;MAC5B,IAAI,CAACF,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,cAAc,GAAG,IAAI;;EAElC;EAEAQ,WAAWA,CAACC,MAAc;IACtB,IAAI,CAAC,IAAI,CAACV,WAAW,IAAI,CAAC,IAAI,CAACQ,OAAO,EAAE;MACpC,MAAM,IAAIG,KAAK,CAAC,iDAAiD,CAAC;;IAEtE,MAAMC,GAAG,GAAG,IAAIC,UAAU,CAACH,MAAM,CAAC;IAClC,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACF,MAAM,EAAEI,CAAC,IAAIjB,KAAK,EAAE;MACxC,IAAI,CAACW,OAAO,CAACF,eAAe,CAACM,GAAG,CAACG,QAAQ,CAACD,CAAC,EAAEA,CAAC,GAAGE,IAAI,CAACC,GAAG,CAACL,GAAG,CAACF,MAAM,GAAGI,CAAC,EAAEjB,KAAK,CAAC,CAAC,CAAC;;IAEtF,OAAOe,GAAG;EACd;;AA3BJM,OAAA,CAAApB,mBAAA,GAAAA,mBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}