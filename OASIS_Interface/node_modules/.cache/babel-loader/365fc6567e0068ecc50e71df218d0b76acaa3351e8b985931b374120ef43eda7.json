{"ast":null,"code":"'use strict';\n\nconst {\n  Buffer\n} = require('buffer') || {\n  Buffer: {\n    isBuffer: () => false\n  }\n};\nconst {\n  textEncoder,\n  textDecoder\n} = require('./text-endec')();\nconst {\n  BufferFormat,\n  ViewFormat,\n  UTF8Format\n} = require('./formats');\n\n/** @type {<T>(v: T) => v} */\nconst identity = v => v;\n\n/**\n * @type {typeof import('./encodings').utf8}\n */\nexports.utf8 = new UTF8Format({\n  encode: function (data) {\n    // On node 16.9.1 buffer.toString() is 5x faster than TextDecoder\n    return Buffer.isBuffer(data) ? data.toString('utf8') : ArrayBuffer.isView(data) ? textDecoder.decode(data) : String(data);\n  },\n  decode: identity,\n  name: 'utf8',\n  createViewTranscoder() {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : textEncoder.encode(data);\n      },\n      decode: function (data) {\n        return textDecoder.decode(data);\n      },\n      name: `${this.name}+view`\n    });\n  },\n  createBufferTranscoder() {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data) ? data : ArrayBuffer.isView(data) ? Buffer.from(data.buffer, data.byteOffset, data.byteLength) : Buffer.from(String(data), 'utf8');\n      },\n      decode: function (data) {\n        return data.toString('utf8');\n      },\n      name: `${this.name}+buffer`\n    });\n  }\n});\n\n/**\n * @type {typeof import('./encodings').json}\n */\nexports.json = new UTF8Format({\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  name: 'json'\n});\n\n/**\n * @type {typeof import('./encodings').buffer}\n */\nexports.buffer = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : ArrayBuffer.isView(data) ? Buffer.from(data.buffer, data.byteOffset, data.byteLength) : Buffer.from(String(data), 'utf8');\n  },\n  decode: identity,\n  name: 'buffer',\n  createViewTranscoder() {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : Buffer.from(String(data), 'utf8');\n      },\n      decode: function (data) {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength);\n      },\n      name: `${this.name}+view`\n    });\n  }\n});\n\n/**\n * @type {typeof import('./encodings').view}\n */\nexports.view = new ViewFormat({\n  encode: function (data) {\n    return ArrayBuffer.isView(data) ? data : textEncoder.encode(data);\n  },\n  decode: identity,\n  name: 'view',\n  createBufferTranscoder() {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data) ? data : ArrayBuffer.isView(data) ? Buffer.from(data.buffer, data.byteOffset, data.byteLength) : Buffer.from(String(data), 'utf8');\n      },\n      decode: identity,\n      name: `${this.name}+buffer`\n    });\n  }\n});\n\n/**\n * @type {typeof import('./encodings').hex}\n */\nexports.hex = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'hex');\n  },\n  decode: function (buffer) {\n    return buffer.toString('hex');\n  },\n  name: 'hex'\n});\n\n/**\n * @type {typeof import('./encodings').base64}\n */\nexports.base64 = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'base64');\n  },\n  decode: function (buffer) {\n    return buffer.toString('base64');\n  },\n  name: 'base64'\n});","map":{"version":3,"names":["Buffer","require","isBuffer","textEncoder","textDecoder","BufferFormat","ViewFormat","UTF8Format","identity","v","exports","utf8","encode","data","toString","ArrayBuffer","isView","decode","String","name","createViewTranscoder","createBufferTranscoder","from","buffer","byteOffset","byteLength","json","JSON","stringify","parse","view","hex","base64"],"sources":["/Users/yezery/Oasis/OASIS/node_modules/.store/level-transcoder@1.0.1/node_modules/level-transcoder/lib/encodings.js"],"sourcesContent":["'use strict'\n\nconst { Buffer } = require('buffer') || { Buffer: { isBuffer: () => false } }\nconst { textEncoder, textDecoder } = require('./text-endec')()\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./formats')\n\n/** @type {<T>(v: T) => v} */\nconst identity = (v) => v\n\n/**\n * @type {typeof import('./encodings').utf8}\n */\nexports.utf8 = new UTF8Format({\n  encode: function (data) {\n    // On node 16.9.1 buffer.toString() is 5x faster than TextDecoder\n    return Buffer.isBuffer(data)\n      ? data.toString('utf8')\n      : ArrayBuffer.isView(data)\n        ? textDecoder.decode(data)\n        : String(data)\n  },\n  decode: identity,\n  name: 'utf8',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n      },\n      decode: function (data) {\n        return textDecoder.decode(data)\n      },\n      name: `${this.name}+view`\n    })\n  },\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return data.toString('utf8')\n      },\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').json}\n */\nexports.json = new UTF8Format({\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  name: 'json'\n})\n\n/**\n * @type {typeof import('./encodings').buffer}\n */\nexports.buffer = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data)\n      ? data\n      : ArrayBuffer.isView(data)\n        ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n        : Buffer.from(String(data), 'utf8')\n  },\n  decode: identity,\n  name: 'buffer',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      },\n      name: `${this.name}+view`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').view}\n */\nexports.view = new ViewFormat({\n  encode: function (data) {\n    return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n  },\n  decode: identity,\n  name: 'view',\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: identity,\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').hex}\n */\nexports.hex = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'hex')\n  },\n  decode: function (buffer) {\n    return buffer.toString('hex')\n  },\n  name: 'hex'\n})\n\n/**\n * @type {typeof import('./encodings').base64}\n */\nexports.base64 = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'base64')\n  },\n  decode: function (buffer) {\n    return buffer.toString('base64')\n  },\n  name: 'base64'\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}