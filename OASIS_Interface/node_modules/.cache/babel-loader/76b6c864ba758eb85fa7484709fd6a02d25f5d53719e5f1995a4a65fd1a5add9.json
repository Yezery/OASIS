{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// import { mintNFTContractABI } from \"@/contract/Contract\";\nimport { getSaleList, Buy } from \"@/api/axios/contract\";\nexport default {\n  name: \"MarketSellIndex\",\n  props: {},\n  data() {\n    return {\n      NFTList: [],\n      contract: null,\n      filteredNFTList: [],\n      isLoading: true\n    };\n  },\n  mounted() {\n    // this.NFTList = getSaleList()\n    // console.log(this.NFTList);\n    getSaleList().then(re => {\n      console.log(re);\n      this.NFTList = re;\n      this.filteredNFTList = re.filter(NFT => NFT.isActive);\n      // this.filteredNFTList=[]\n    });\n  },\n\n  methods: {\n    GETHashAvatar(address) {\n      return \"data:image/png;base64,\" + new this.Identicon(address, 120).toString();\n    },\n    async Buy(NFT) {\n      if (NFT.seller.toUpperCase() === this.$store.state.currentAddress.toUpperCase()) {\n        alert(\"别买自己的\");\n      } else {\n        await Buy(NFT);\n      }\n    },\n    handleColumnClick(row) {\n      this.$router.push({\n        path: \"/home/NFTInf\",\n        query: {\n          nftInf: JSON.stringify(row)\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getSaleList","Buy","name","props","data","NFTList","contract","filteredNFTList","isLoading","mounted","then","re","console","log","filter","NFT","isActive","methods","GETHashAvatar","address","Identicon","toString","seller","toUpperCase","$store","state","currentAddress","alert","handleColumnClick","row","$router","push","path","query","nftInf","JSON","stringify"],"sources":["src/views/market/MarketShopType/index.vue"],"sourcesContent":["<template>\n  <div class=\"SellIndex \">\n    <div class=\"marketShopMain \">\n      <el-table :data=\"filteredNFTList.slice(0, 5)\" class=\"marketShopTableLeft\" @row-click=\"handleColumnClick\">\n        <template slot=\"empty\">\n          <div>\n            <img style=\"padding: 10% 0 0 0;\" width=\"20%\" height=\"20%\" src=\"@/assets/webAssets/MetaMask.png\" alt=\"\">\n            <h4 style=\"padding: 0 0 10% 0\">浏览器未连接Metamask</h4>\n          </div>\n\n        </template>\n        <el-table-column type=\"index\" width=\"70\" label=\"Rank\">\n        </el-table-column>\n        <el-table-column label=\"藏品\" align=\"left\">\n          <template slot-scope=\"scope\">\n            <div class=\"collectionRow\">\n              <span class=\"collectionImageBorder\">\n                <img class=\"nftImage\" :src=\"JSON.parse(scope.row.tokenURI).image\" alt=\"\" width=\"65px\" height=\"65px\" />\n              </span>\n              {{ JSON.parse(scope.row.tokenURI).name.toUpperCase()}}\n            </div>\n\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"价格\">\n          <template slot-scope=\"scope\">\n            <h4> {{$store.state.Web3.utils.fromWei(scope.row.price, 'ether') }} ETH</h4>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-table :data=\"filteredNFTList.slice(5,10)\" class=\"marketShopTableRight\" @row-click=\"handleColumnClick\">\n        <template slot=\"empty\">\n          <div>\n            <img style=\"padding: 10% 0 0 0;\" width=\"20%\" height=\"20%\" src=\"@/assets/webAssets/MetaMask.png\" alt=\"\">\n            <h4 style=\"padding: 0 0 10% 0\">浏览器未连接Metamask</h4>\n          </div>\n        </template>\n        <el-table-column width=\"70\" label=\"Rank\">\n          <template slot-scope=\"scope\">\n            <span>{{scope.$index + 6}}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"藏品\" align=\"left\">\n          <template slot-scope=\"scope\">\n            <div class=\"collectionRow\">\n              <div class=\"collectionImageBorder\">\n                <img class=\"nftImage\" :src=\"JSON.parse(scope.row.tokenURI).image\" alt=\"\" width=\"70px\" height=\"70px\" />\n              </div>\n              {{ JSON.parse(scope.row.tokenURI).name.toUpperCase()}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" label=\"价格\">\n          <template slot-scope=\"scope\">\n            <h4> {{$store.state.Web3.utils.fromWei(scope.row.price, 'ether')}} ETH</h4>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <div class=\"collectionShow\">\n      <div class=\"CollectionShowTitle \">\n        Collection Show\n      </div>\n      <div class=\"NFTInf animate__animated animate__fadeInLeft\" v-for=\"NFT in this.NFTList.filter(NFT => NFT.isActive).slice(0,6)\" :key=\"NFT.TokenURI\">\n        <div class=\"imageBox\">\n          <img class=\"NFTImage\" :src=\"JSON.parse(NFT.tokenURI).image \" alt=\"\" />\n        </div>\n        <div class=\"Inf\">\n          <div class=\"NFTName\">\n            {{ JSON.parse(NFT.tokenURI).name.toUpperCase() }}\n            <!-- <div class=\"ownerBox\">\n              <div class=\"ownerOutBorder\">\n                <img class=\"owner\" :src=\"GETHashAvatar(NFT.seller.toString())\" alt=\"\" width=\"36px\" height=\"36px\" />\n              </div>\n              <div class=\"ownerName\">{{ NFT.seller.slice(0, 5) + \"...\" + NFT.seller.slice(37) }}\n              </div>\n            </div> -->\n          </div>\n          <div class=\"InfBottom\">\n            <div class=\"ownerBox\">\n              <div class=\"ownerAddress\">{{ NFT.seller.slice(0, 5) + \"...\" + NFT.seller.slice(37)}}</div>\n              <div class=\"ownerAvatarBox\">\n                <img class=\"owner\" :src=\"GETHashAvatar(NFT.seller.toString())\" alt=\"\" width=\"50px\" height=\"50px\" />  \n              </div>\n               \n            </div>\n            <div class=\"PriceBox\">\n              <div class=\"PriceTitle\">\n                Volume\n              </div>\n              <div style=\"font-weight: 800;\">{{ $store.state.Web3.utils.fromWei(NFT.price, 'ether') }} ETH</div>\n            </div>\n\n          </div>\n          <!-- <div class=\"NFTName\">{{$store.state.Web3?$store.state.Web3.utils.fromWei(NFT.price, 'ether'):\"请登录\"}}ETH</div>\n          <div class=\"ownerAndPrice\">\n            <div class=\"ownerBox\">\n111\n            </div>\n            <div class=\"priceBox\">\n\n              <span class=\"price\"> </span>\n\n            </div>\n          </div> -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  // import { mintNFTContractABI } from \"@/contract/Contract\";\n  import { getSaleList, Buy } from \"@/api/axios/contract\";\n  export default {\n    name: \"MarketSellIndex\",\n    props: {},\n    data() {\n      return {\n        NFTList: [],\n        contract: null,\n        filteredNFTList: [],\n        isLoading: true,\n      };\n    },\n    mounted() {\n      // this.NFTList = getSaleList()\n      // console.log(this.NFTList);\n      getSaleList().then((re) => {\n        console.log(re);\n        this.NFTList = re;\n        this.filteredNFTList = re.filter((NFT) => NFT.isActive);\n        // this.filteredNFTList=[]\n      });\n    },\n    methods: {\n      GETHashAvatar(address) {\n        return (\n          \"data:image/png;base64,\" + new this.Identicon(address, 120).toString()\n        );\n      },\n      async Buy(NFT) {\n        if (\n          NFT.seller.toUpperCase() ===\n          this.$store.state.currentAddress.toUpperCase()\n        ) {\n          alert(\"别买自己的\");\n        } else {\n          await Buy(NFT);\n        }\n      },\n      handleColumnClick(row) {\n        this.$router.push({\n          path: \"/home/NFTInf\",\n          query: { nftInf: JSON.stringify(row) },\n        });\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n.collectionShow {\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  gap: 0.5%;\n  height: auto;\n  text-align: center;\n  font-family: Arial, Helvetica, sans-serif;\n  .CollectionShowTitle {\n    width: 100%;\n    text-align: left;\n    margin-top: 3.5%;\n    margin-bottom: 3.5%;\n    font-weight: 800;\n    font-family: \"Gilroy-Medium\";\n    font-size: 1.7vw;\n    color: var(--Dark--);\n    transition: all 0.8s ease-in-out;\n  }\n  .NFTInf {\n    background-color: var(--White--);\n    margin-bottom: 3.5%;\n    padding-bottom: 70px;\n    border-radius: 30px;\n    width: 400px;\n    height: 450px;\n    overflow: hidden;\n    transition: all 0.3s ease-in-out;\n    &:hover {\n      box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px,\n        rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;\n      transition: all 0.3s ease-in-out;\n    }\n    .imageBox {\n      width: 100%;\n      height: 65%;\n      border-radius: 30px;\n      position: relative;\n      z-index: 1;\n      overflow: hidden;\n\n      .NFTImage {\n        object-fit: cover;\n        width: 100%;\n        height: 100%;\n        transition: all 0.6s;\n        cursor: pointer;\n        transform: scale(1.1);\n        overflow: hidden;\n        &:hover {\n          transform: scale(1.4);\n          transition: all 0.6s;\n        }\n      }\n    }\n\n    .Inf {\n      width: 100%;\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      .InfBottom{\n        margin-top: 5%;\n        display: flex;\n        .ownerBox{\n          flex: 1;\n          .ownerAddress{\n            font-size: 1vw;\n            color: gray;\n            margin-bottom: 2%;\n          }\n          .ownerAvatarBox{\n            border-radius: 20px;\n            overflow: ;\n          }\n        }\n        .PriceBox{\n          flex: 1;\n          font-size: 1vw;\n          .PriceTitle{\n            color: gray;\n            margin-bottom: 2%;\n          }\n        }\n        \n      }\n      .NFTName {\n        width: 100%;\n        padding-top: 10%;\n        padding-left: 12%;\n        padding-bottom: 20px;\n        color: var(--Dark--);\n        font-size: 20px;\n        text-align: left;\n        font-weight: 800;\n      }\n      // .PriceBox {\n      //   font-size: 1vw;\n      //   width: 80%;\n      //   .PriceTitle {\n      //     color: gray;\n      //     margin-bottom: 2%;\n      //   }\n      // }\n      // .ownerAndPrice {\n      //   width: 100%;\n      //   display: flex;\n      //   margin-top: 18px;\n      //   .ownerBox {\n      //     flex: 1;\n      //     display: flex;\n      //     justify-content: center;\n      //     align-items: center;\n      //     .ownerOutBorder {\n      //       width: 36px;\n      //       height: 36px;\n      //       border: 1px solid white;\n      //       border-radius: 50%;\n      //       overflow: hidden;\n      //       margin-right: 10px;\n      //       img {\n      //         object-fit: cover;\n      //       }\n      //       .owner {\n      //         display: inline-block;\n      //       }\n      //     }\n      //   }\n      // }\n    }\n  }\n}\n\n.SellIndex {\n  display: flex;\n  font-family: Arial, Helvetica, sans-serif;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  /deep/ .marketShopMain {\n    display: flex;\n    justify-content: flex-start;\n    align-items: flex-start;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    border-radius: 30px;\n    padding: 3%;\n    background-color: var(--White--);\n    transition: all 0.8s ease-in-out;\n    padding-bottom: 5%;\n    .el-table,\n    .el-table__expanded-cell {\n      background-color: var(--White--);\n      transition: all 0.8s ease-in-out;\n    }\n    /* 表格内背景颜色 */\n    .el-table th,\n    .el-table tr,\n    .el-table td {\n      background-color: transparent;\n    }\n    .el-skeleton__row {\n      /* 设置骨架屏行样式 */\n      height: 48px;\n      margin-bottom: 10px;\n      background-color: black;\n    }\n  }\n}\n\n//相应\n// @media screen and (max-width: 1600px) and (min-width: 1600px) {\n//   .SellIndex {\n//     width: 100%;\n//     justify-content: center;\n//     align-items: center;\n//     flex-direction: column;\n//     display: flex;\n//   }\n// }\n\n.nftImageAndPrice {\n  width: 100%;\n  display: flex;\n  margin-top: 18px;\n}\n.collectionRow {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  font-weight: 800;\n  color: var(--Dark--);\n  .collectionImageBorder {\n    min-width: 65px;\n    height: 65px;\n    border-radius: 15px;\n    overflow: hidden;\n    margin-right: 40px;\n    img {\n      object-fit: fill;\n    }\n    .nftImage {\n      display: inline-block;\n    }\n  }\n}\n.priceBox {\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.nftImageName {\n  font-size: 12px;\n  color: var(--Dark--);\n}\n.priceinnerBox {\n  width: 70px;\n  padding: 13px 0px 13px 0px;\n  color: #55c960;\n  background-color: rgba(85, 201, 96, 0.12);\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.8s ease-in-out;\n  &:hover {\n    background-color: rgba(85, 201, 96, 0.24);\n    transition: all 0.8s ease-in-out;\n  }\n}\n.price {\n  font-size: 12px;\n  font-weight: 800;\n}\n\n/deep/.marketShopTableLeft {\n  font-size: 1vw;\n  color: var(--Dark--);\n\n  td.el-table__cell {\n    border: 0px solid white;\n    text-align: center;\n    transition: all 0.8s ease-in-out;\n  }\n  .el-table__body tr:hover > td.el-table__cell {\n    color: var(--Dark--);\n    background-color: rgba(245, 247, 250, 0.6);\n  }\n  .el-table__body tr:hover > td.el-table__cell:first-child {\n    border-radius: 20px 0 0 20px;\n  }\n  .el-table__body tr:hover > td.el-table__cell:last-child {\n    border-radius: 0 20px 20px 0;\n  }\n  td {\n    padding-top: 20px;\n    padding-bottom: 20px;\n  }\n  .el-table__header {\n    th {\n      font-size: 15px;\n      :nth-child(2) {\n        font-size: 20px;\n        text-align: left;\n      }\n    }\n  }\n}\n/deep/.marketShopTableRight {\n  margin-left: 5%;\n  @extend .marketShopTableLeft;\n}\n/deep/.el-table::before {\n  display: none;\n}\n</style>\n"],"mappings":";AAgHA;AACA,SAAAA,WAAA,EAAAC,GAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,eAAA;MACAC,SAAA;IACA;EACA;EACAC,QAAA;IACA;IACA;IACAT,WAAA,GAAAU,IAAA,CAAAC,EAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,EAAA;MACA,KAAAN,OAAA,GAAAM,EAAA;MACA,KAAAJ,eAAA,GAAAI,EAAA,CAAAG,MAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAC,QAAA;MACA;IACA;EACA;;EACAC,OAAA;IACAC,cAAAC,OAAA;MACA,OACA,oCAAAC,SAAA,CAAAD,OAAA,OAAAE,QAAA;IAEA;IACA,MAAApB,IAAAc,GAAA;MACA,IACAA,GAAA,CAAAO,MAAA,CAAAC,WAAA,OACA,KAAAC,MAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAH,WAAA,IACA;QACAI,KAAA;MACA;QACA,MAAA1B,GAAA,CAAAc,GAAA;MACA;IACA;IACAa,kBAAAC,GAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UAAAC,MAAA,EAAAC,IAAA,CAAAC,SAAA,CAAAP,GAAA;QAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}