{"ast":null,"code":"// import { SaleTypeList } from \"@/api/axios/SaleType\";\nimport { MakeNFT, getFeePercentage } from \"@/api/axios/contract\";\nexport default {\n  data() {\n    return {\n      imageUrl: \"\",\n      fileList: [],\n      dialogImageUrl: \"\",\n      dialogVisible: false,\n      disabled: false,\n      Name: \"\",\n      Symbol: \"\",\n      FirstNFTName: \"\",\n      Description: \"\",\n      Maxmums: 1,\n      active: 1,\n      sumitEnable: true,\n      feePercentage: 0\n    };\n  },\n  mounted() {\n    getFeePercentage().then(FeePercentage => this.feePercentage = FeePercentage);\n  },\n  computed: {\n    canSubmit() {\n      if (this.Name == \"\" || this.Symbol == \"\" ||\n      // if (file.type ==\"image/jepg\" || file.type==\"image/png\" || file.type == \"image/jpg\")\n      this.$refs.pictureUpload.uploadFiles.length == 0 || this.FirstNFTName == \"\") {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  },\n  methods: {\n    async createNFT() {\n      try {\n        await MakeNFT(this.Name, this.Symbol, this.$refs.pictureUpload.uploadFiles, this.Maxmums, this.FirstNFTName, this.Description);\n        this.$notify({\n          title: \"成功\",\n          message: \"创造成功\",\n          type: \"success\",\n          position: \"top-left\",\n          offset: 100,\n          duration: 2000\n        });\n      } catch (error) {\n        this.$notify.error({\n          title: \"错误\",\n          message: \"创造失败\",\n          position: \"top-left\",\n          offset: 100,\n          duration: 2000\n        });\n        return;\n      }\n    },\n    handleRemove(file) {\n      console.log(this.$refs.pictureUpload.uploadFiles[0]);\n      let uploadFiles = this.$refs.pictureUpload.uploadFiles;\n      for (var i = 0; i < uploadFiles.length; i++) {\n        if (uploadFiles[i][\"url\"] == file.url) {\n          uploadFiles.splice(i, 1);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["MakeNFT","getFeePercentage","data","imageUrl","fileList","dialogImageUrl","dialogVisible","disabled","Name","Symbol","FirstNFTName","Description","Maxmums","active","sumitEnable","feePercentage","mounted","then","FeePercentage","computed","canSubmit","$refs","pictureUpload","uploadFiles","length","methods","createNFT","$notify","title","message","type","position","offset","duration","error","handleRemove","file","console","log","i","url","splice"],"sources":["src/views/market/imitNFT.vue"],"sourcesContent":["<template>\n  <div class=\"MainWindow animate__animated animate__fadeInRight\">\n    <div class=\"imitNFTFrame \">\n      <div class=\"imitNFTFrameTop\">\n        <router-link :to=\"{ name: 'MarketShop' }\">\n          <i\n            class=\"el-icon-arrow-left\"\n            style=\"font-size: 2vw;\"\n          />\n        </router-link>\n        <div class=\"ImitTitle\">\n          CREATE YOUR NFT\n        </div>\n        <div class=\"imitNFTFrameTop_tipsBox\">\n          创造属于你的NFT\n        </div>\n      </div>\n      <div class=\"imitNFTFrameMain\">\n        <div class=\"imitNFTFrameMain_left\">\n          <div class=\"imageUpLoad\">\n            <el-upload\n              action=\"#\"\n              list-type=\"picture-card\"\n              ref=\"pictureUpload\"\n              :file-list=\"fileList\"\n              :auto-upload=\"false\"\n            >\n              <i\n                slot=\"default\"\n                class=\"el-icon-picture\"\n                style=\"\n              font-size: 82px;\n              color: var(--Dark--);\n              transition: all 0.3s ease-in-out;\n            \"\n              />\n              <div\n                slot=\"file\"\n                slot-scope=\"{ file }\"\n              >\n                <img\n                  class=\"el-upload-list__item-thumbnail\"\n                  :src=\"file.url\"\n                  alt=\"\"\n                >\n                <span class=\"el-upload-list__item-actions\">\n                  <span\n                    v-if=\"!disabled\"\n                    class=\"el-upload-list__item-delete\"\n                    @click=\"handleRemove(file)\"\n                  >\n                    <i class=\"el-icon-delete\" />\n                  </span>\n                </span>\n              </div>\n            </el-upload>\n            <el-dialog :visible.sync=\"dialogVisible\">\n              <img\n                width=\"100%\"\n                :src=\"dialogImageUrl\"\n                alt=\"\"\n              >\n            </el-dialog>\n          </div>\n        </div>\n        <div class=\"imitNFTFrameMain_right\">\n          <div class=\"selectBox\">\n            <div class=\"select\">\n              <div class=\"tipsBox\">\n                <div class=\"tipsTitle\">\n                  <span style=\"color: red\">*</span> Name\n                </div>\n                <div class=\"tipsTitle2\">\n                  NFT系列名\n                </div>\n              </div>\n              <el-input\n                v-model=\"Name\"\n                placeholder=\"Please enter a series name\"\n              />\n            </div>\n            <div class=\"select\">\n              <div class=\"tipsBox\">\n                <div class=\"tipsTitle\">\n                  <span style=\"color: red\">*</span> Symbol\n                </div>\n                <div class=\"tipsTitle2\">\n                  该系列NFT代币符号\n                </div>\n              </div>\n              <el-input\n                v-model=\"Symbol\"\n                placeholder=\"Please enter the token symbol\"\n              />\n            </div>\n            <div class=\"select\">\n              <div class=\"tipsBox\">\n                <div class=\"tipsTitle\">\n                  <span style=\"color: red\">*</span> Genesis NFT Name\n                </div>\n                <div class=\"tipsTitle2\">\n                  该系列的一号NFT\n                </div>\n              </div>\n              <el-input\n                v-model=\"FirstNFTName\"\n                placeholder=\"Please enter the name of Genesis NFT\"\n              />\n            </div>\n            <div class=\"select\">\n              <div class=\"tipsBox\">\n                <div class=\"tipsTitle\">\n                  Description\n                </div>\n                <div class=\"tipsTitle2\">\n                  描述将包含在商品详情页面上图片下方。\n                </div>\n              </div>\n              <el-input\n                type=\"textarea\"\n                v-model=\"Description\"\n                placeholder=\"Please add a description\"\n              />\n            </div>\n            <div class=\"select\">\n              <div class=\"tipsBox\">\n                <div class=\"tipsTitle\">\n                  <span style=\"color: red\">*</span> Supply\n                </div>\n                <div class=\"tipsTitle2\">\n                  可以铸造的物品数量。\n                </div>\n              </div>\n              <div class=\"input_number\">\n                <el-input-number\n                  v-model=\"Maxmums\"\n                  :min=\"1\"\n                />\n              </div>\n            </div>\n            <div class=\"select\">\n              <div class=\"sumbitBox\">\n                <el-button\n                  @click=\"createNFT\"\n                  :disabled=\"!canSubmit\"\n                  class=\"createButton\"\n                >\n                  创造\n                </el-button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"imitNFTFrameBottom\">\n        <div class=\"createTips\">\n          <span style=\"font-size: 60px;color: red;\">{{ feePercentage }}%</span> commission for market transactions\n        </div>\n        <img\n          src=\"@/assets/webAssets/UnLoginPhoto.png\"\n          alt=\"\"\n          width=\"150px\"\n          height=\"150px\"\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  // import { SaleTypeList } from \"@/api/axios/SaleType\";\n  import { MakeNFT, getFeePercentage } from \"@/api/axios/contract\";\n  export default {\n    data() {\n      return {\n        imageUrl: \"\",\n        fileList: [],\n        dialogImageUrl: \"\",\n        dialogVisible: false,\n        disabled: false,\n        Name: \"\",\n        Symbol: \"\",\n        FirstNFTName: \"\",\n        Description: \"\",\n        Maxmums: 1,\n        active: 1,\n        sumitEnable: true,\n        feePercentage: 0,\n      };\n    },\n    mounted() {\n      getFeePercentage().then(\n        (FeePercentage) => (this.feePercentage = FeePercentage)\n      );\n  },\n  computed: {\n    canSubmit() {\n      if (\n          this.Name == \"\" ||\n        this.Symbol == \"\" ||\n        // if (file.type ==\"image/jepg\" || file.type==\"image/png\" || file.type == \"image/jpg\")\n          this.$refs.pictureUpload.uploadFiles.length == 0 ||\n          this.FirstNFTName == \"\"\n      ) {\n        return false\n      } else {\n        return true\n      }\n     \n    }\n    },\n    methods: {\n      async createNFT() {\n        try {\n            await MakeNFT(\n              this.Name,\n              this.Symbol,\n              this.$refs.pictureUpload.uploadFiles,\n              this.Maxmums,\n              this.FirstNFTName,\n              this.Description\n            );\n            this.$notify({\n              title: \"成功\",\n              message: \"创造成功\",\n              type: \"success\",\n              position: \"top-left\",\n              offset: 100,\n              duration: 2000,\n            });\n          } catch (error) {\n            this.$notify.error({\n              title: \"错误\",\n              message: \"创造失败\",\n              position: \"top-left\",\n              offset: 100,\n              duration: 2000,\n            });\n            return;\n          }\n      },\n      handleRemove(file) {\n        console.log(this.$refs.pictureUpload.uploadFiles[0]);\n        let uploadFiles = this.$refs.pictureUpload.uploadFiles;\n          for (var i = 0; i < uploadFiles.length; i++) {\n          if (uploadFiles[i][\"url\"] == file.url) {\n            uploadFiles.splice(i, 1);\n          }\n        }\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n.MainWindow {\n  position: relative;\n  overflow: hidden;\n  font-family: Arial, Helvetica, sans-serif;\n  width: 97%;\n  border-radius: 40px;\n  background-color: var(--White--);\n  transition: all 0.3s ease-in-out;\n  margin: 1.3%;\n  padding-bottom: 8%;\n  .imitNFTFrame {\n    width: 100%;\n    .imitNFTFrameTop {\n      position: relative;\n      text-align: left;\n      padding-top: 2%;\n      padding-left: 4%;\n\n      .imitNFTFrameTop_tipsBox {\n        width: 100%;\n        font-size: 20px;\n        color: rgb(163, 162, 162);\n        font-weight: 800;\n      }\n      a {\n        text-decoration: none;\n        color: var(--Dark--);\n      }\n    }\n    .imitNFTFrameMain {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      .imitNFTFrameMain_left {\n        height: 100%;\n        flex: 1;\n        /deep/ .imageUpLoad {\n          & div:first-child {\n            position: relative !important;\n            overflow: hidden;\n            height: 330px;\n          }\n          & .el-upload-list--picture-card .el-upload-list__item {\n            width: 305px;\n            height: 305px;\n            position: absolute !important;\n          }\n          & .el-upload--picture-card {\n            padding: 105px;\n            height: 305px;\n            width: 305px;\n            background-color: rgba(255, 255, 255, 0);\n            border: 3px dashed var(--Dark--);\n            border-radius: 20px;\n            transition: all 0.3s ease-in-out;\n          }\n          & .el-upload--picture-card:hover {\n            background-color: rgba(255, 255, 255, 0);\n          }\n        }\n      }\n      .imitNFTFrameMain_right {\n        width: 100%;\n        height: 100%;\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        /deep/ .select {\n          width: 100%;\n          text-align: left;\n          margin-bottom: 30px;\n          .el-input__inner:not(.el-input__inner:last-child),\n          .el-textarea__inner {\n            font-family: Arial, Helvetica, sans-serif;\n            height: 50px;\n            margin-top: 1%;\n            background-color: white;\n            border-radius: 12px;\n            width: 25vw;\n            color: black;\n            transition: all 0.3s ease-in-out;\n          }\n          .input_number {\n            margin-top: 1%;\n          }\n        }\n\n        .selectBox {\n          flex-direction: column;\n        }\n      }\n    }\n    .imitNFTFrameBottom {\n      display: flex;\n      background-color: blue;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      .createTips {\n        width: 100%;\n        font-size: 55px;\n        color: var(--Dark--);\n        transition: all 0.3s ease-in-out;\n        z-index: 2;\n      }\n    }\n  }\n}\n\n.NFTImageSelectBox {\n  width: 76%;\n  text-align: left;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.3s ease-in-out;\n}\n\n.ImitTitle {\n  font-size: 3.5vw;\n  width: 100%;\n  color: var(--Dark--);\n  margin-top: 1%;\n  font-weight: 800;\n  transition: all 0.3s ease-in-out;\n}\n.tipsBox {\n  width: 100%;\n  font-size: 15px;\n  color: rgb(163, 162, 162);\n  text-align: left;\n  transition: all 0.3s ease-in-out;\n  .tipsTitle {\n    margin-bottom: 1%;\n    width: 76%;\n    font-size: 16px;\n    font-weight: 800;\n    color: var(--Dark--);\n    transition: all 0.3s ease-in-out;\n  }\n  .tipsTitle2 {\n    font-size: 12px;\n  }\n}\n\n.sumbitBox {\n  text-align: left;\n  margin-top: 6%;\n  margin-bottom: 6%;\n  .createButton {\n    padding: 20px 35px 18px 35px;\n    font-size: 17px;\n    background-color: #FFF;\n    border-radius: 15px;\n    transition: all 0.3s ease-in-out;\n    font-family: \"Transformers_Movie\";\n    color: black;\n    :hover{\n      color: black;\n    }\n  }\n  .is-disabled{\n    background-color: transparent;\n    color: #C0C4CC;\n    :hover{\n      color: #C0C4CC;\n    }\n    }\n}\n</style>\n"],"mappings":"AA0KA;AACA,SAAAA,OAAA,EAAAC,gBAAA;AACA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;MACAC,cAAA;MACAC,aAAA;MACAC,QAAA;MACAC,IAAA;MACAC,MAAA;MACAC,YAAA;MACAC,WAAA;MACAC,OAAA;MACAC,MAAA;MACAC,WAAA;MACAC,aAAA;IACA;EACA;EACAC,QAAA;IACAf,gBAAA,GAAAgB,IAAA,CACAC,aAAA,SAAAH,aAAA,GAAAG,aACA;EACA;EACAC,QAAA;IACAC,UAAA;MACA,IACA,KAAAZ,IAAA,UACA,KAAAC,MAAA;MACA;MACA,KAAAY,KAAA,CAAAC,aAAA,CAAAC,WAAA,CAAAC,MAAA,SACA,KAAAd,YAAA,QACA;QACA;MACA;QACA;MACA;IAEA;EACA;EACAe,OAAA;IACA,MAAAC,UAAA;MACA;QACA,MAAA1B,OAAA,CACA,KAAAQ,IAAA,EACA,KAAAC,MAAA,EACA,KAAAY,KAAA,CAAAC,aAAA,CAAAC,WAAA,EACA,KAAAX,OAAA,EACA,KAAAF,YAAA,EACA,KAAAC,WACA;QACA,KAAAgB,OAAA;UACAC,KAAA;UACAC,OAAA;UACAC,IAAA;UACAC,QAAA;UACAC,MAAA;UACAC,QAAA;QACA;MACA,SAAAC,KAAA;QACA,KAAAP,OAAA,CAAAO,KAAA;UACAN,KAAA;UACAC,OAAA;UACAE,QAAA;UACAC,MAAA;UACAC,QAAA;QACA;QACA;MACA;IACA;IACAE,aAAAC,IAAA;MACAC,OAAA,CAAAC,GAAA,MAAAjB,KAAA,CAAAC,aAAA,CAAAC,WAAA;MACA,IAAAA,WAAA,QAAAF,KAAA,CAAAC,aAAA,CAAAC,WAAA;MACA,SAAAgB,CAAA,MAAAA,CAAA,GAAAhB,WAAA,CAAAC,MAAA,EAAAe,CAAA;QACA,IAAAhB,WAAA,CAAAgB,CAAA,YAAAH,IAAA,CAAAI,GAAA;UACAjB,WAAA,CAAAkB,MAAA,CAAAF,CAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}