{"ast":null,"code":"import _defineProperty from \"/Users/yezery/Oasis/OASIS/node_modules/.store/@babel+runtime@7.22.15/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nclass Cache {\n  constructor() {\n    // service type => unique service name => service\n    _defineProperty(this, \"services\", void 0);\n    this.services = new Map();\n  }\n  hasService(serviceType, uniqueServiceName) {\n    const instances = this.services.get(serviceType);\n    if (instances == null) {\n      return false;\n    }\n    return instances.has(uniqueServiceName);\n  }\n  getService(serviceType, uniqueServiceName) {\n    const instances = this.services.get(serviceType);\n    if (instances == null) {\n      return;\n    }\n    const service = instances.get(uniqueServiceName);\n    if (service == null) {\n      return;\n    }\n    return service;\n  }\n  deleteService(serviceType, uniqueServiceName) {\n    const instances = this.services.get(serviceType);\n    if (instances == null) {\n      return;\n    }\n    instances.delete(uniqueServiceName);\n    if (instances.size === 0) {\n      this.services.delete(serviceType);\n    }\n  }\n  cacheService(service) {\n    const instances = this.services.get(service.serviceType) ?? new Map();\n    instances.set(service.uniqueServiceName, service);\n    this.services.set(service.serviceType, instances);\n  }\n  clear() {\n    this.services = new Map();\n  }\n}\nexport const cache = new Cache();","map":{"version":3,"names":["Cache","constructor","_defineProperty","services","Map","hasService","serviceType","uniqueServiceName","instances","get","has","getService","service","deleteService","delete","size","cacheService","set","clear","cache"],"sources":["../../src/cache.ts"],"sourcesContent":[null],"mappings":";AAEA,MAAMA,KAAK;EAITC,YAAA;IAHA;IAAAC,eAAA;IAIE,IAAI,CAACC,QAAQ,GAAG,IAAIC,GAAG,EAAE;EAC3B;EAEAC,UAAUA,CAAEC,WAAmB,EAAEC,iBAAyB;IACxD,MAAMC,SAAS,GAAG,IAAI,CAACL,QAAQ,CAACM,GAAG,CAACH,WAAW,CAAC;IAEhD,IAAIE,SAAS,IAAI,IAAI,EAAE;MACrB,OAAO,KAAK;;IAGd,OAAOA,SAAS,CAACE,GAAG,CAACH,iBAAiB,CAAC;EACzC;EAEAI,UAAUA,CAAEL,WAAmB,EAAEC,iBAAyB;IACxD,MAAMC,SAAS,GAAG,IAAI,CAACL,QAAQ,CAACM,GAAG,CAACH,WAAW,CAAC;IAEhD,IAAIE,SAAS,IAAI,IAAI,EAAE;MACrB;;IAGF,MAAMI,OAAO,GAAGJ,SAAS,CAACC,GAAG,CAACF,iBAAiB,CAAC;IAEhD,IAAIK,OAAO,IAAI,IAAI,EAAE;MACnB;;IAGF,OAAOA,OAAO;EAChB;EAEAC,aAAaA,CAAEP,WAAmB,EAAEC,iBAAyB;IAC3D,MAAMC,SAAS,GAAG,IAAI,CAACL,QAAQ,CAACM,GAAG,CAACH,WAAW,CAAC;IAEhD,IAAIE,SAAS,IAAI,IAAI,EAAE;MACrB;;IAGFA,SAAS,CAACM,MAAM,CAACP,iBAAiB,CAAC;IAEnC,IAAIC,SAAS,CAACO,IAAI,KAAK,CAAC,EAAE;MACxB,IAAI,CAACZ,QAAQ,CAACW,MAAM,CAACR,WAAW,CAAC;;EAErC;EAEAU,YAAYA,CAAEJ,OAAgB;IAC5B,MAAMJ,SAAS,GAAG,IAAI,CAACL,QAAQ,CAACM,GAAG,CAACG,OAAO,CAACN,WAAW,CAAC,IAAI,IAAIF,GAAG,EAAE;IACrEI,SAAS,CAACS,GAAG,CAACL,OAAO,CAACL,iBAAiB,EAAEK,OAAO,CAAC;IAEjD,IAAI,CAACT,QAAQ,CAACc,GAAG,CAACL,OAAO,CAACN,WAAW,EAAEE,SAAS,CAAC;EACnD;EAEAU,KAAKA,CAAA;IACH,IAAI,CAACf,QAAQ,GAAG,IAAIC,GAAG,EAAE;EAC3B;;AAGF,OAAO,MAAMe,KAAK,GAAG,IAAInB,KAAK,EAAE"},"metadata":{},"sourceType":"module","externalDependencies":[]}