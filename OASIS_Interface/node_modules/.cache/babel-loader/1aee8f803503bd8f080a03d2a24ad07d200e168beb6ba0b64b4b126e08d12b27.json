{"ast":null,"code":"import \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\n/**\n * @packageDocumentation\n *\n * Provides methods for converting\n */\nimport { IpNet } from '@chainsafe/netmask';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { bases } from 'multiformats/basics';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport * as varint from 'uint8-varint';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport * as ip from './ip.js';\nimport { getProtocol } from './protocols-table.js';\nconst ip4Protocol = getProtocol('ip4');\nconst ip6Protocol = getProtocol('ip6');\nconst ipcidrProtocol = getProtocol('ipcidr');\nexport function convert(proto, a) {\n  if (a instanceof Uint8Array) {\n    return convertToString(proto, a);\n  } else {\n    return convertToBytes(proto, a);\n  }\n}\n/**\n * Convert [code,Uint8Array] to string\n */\nexport function convertToString(proto, buf) {\n  const protocol = getProtocol(proto);\n  switch (protocol.code) {\n    case 4: // ipv4\n    case 41:\n      // ipv6\n      return bytes2ip(buf);\n    case 42:\n      // ipv6zone\n      return bytes2str(buf);\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132:\n      // sctp\n      return bytes2port(buf).toString();\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 449: // sni\n    case 777:\n      // memory\n      return bytes2str(buf);\n    case 421:\n      // ipfs\n      return bytes2mh(buf);\n    case 444:\n      // onion\n      return bytes2onion(buf);\n    case 445:\n      // onion3\n      return bytes2onion(buf);\n    case 466:\n      // certhash\n      return bytes2mb(buf);\n    default:\n      return uint8ArrayToString(buf, 'base16');\n    // no clue. convert to hex\n  }\n}\n\nexport function convertToBytes(proto, str) {\n  const protocol = getProtocol(proto);\n  switch (protocol.code) {\n    case 4:\n      // ipv4\n      return ip2bytes(str);\n    case 41:\n      // ipv6\n      return ip2bytes(str);\n    case 42:\n      // ipv6zone\n      return str2bytes(str);\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132:\n      // sctp\n      return port2bytes(parseInt(str, 10));\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 449: // sni\n    case 777:\n      // memory\n      return str2bytes(str);\n    case 421:\n      // ipfs\n      return mh2bytes(str);\n    case 444:\n      // onion\n      return onion2bytes(str);\n    case 445:\n      // onion3\n      return onion32bytes(str);\n    case 466:\n      // certhash\n      return mb2bytes(str);\n    default:\n      return uint8ArrayFromString(str, 'base16');\n    // no clue. convert from hex\n  }\n}\n\nexport function convertToIpNet(multiaddr) {\n  let mask;\n  let addr;\n  multiaddr.stringTuples().forEach(([code, value]) => {\n    if (code === ip4Protocol.code || code === ip6Protocol.code) {\n      addr = value;\n    }\n    if (code === ipcidrProtocol.code) {\n      mask = value;\n    }\n  });\n  if (mask == null || addr == null) {\n    throw new Error('Invalid multiaddr');\n  }\n  return new IpNet(addr, mask);\n}\nconst decoders = Object.values(bases).map(c => c.decoder);\nconst anybaseDecoder = function () {\n  let acc = decoders[0].or(decoders[1]);\n  decoders.slice(2).forEach(d => acc = acc.or(d));\n  return acc;\n}();\nfunction ip2bytes(ipString) {\n  if (!ip.isIP(ipString)) {\n    throw new Error('invalid ip address');\n  }\n  return ip.toBytes(ipString);\n}\nfunction bytes2ip(ipBuff) {\n  const ipString = ip.toString(ipBuff, 0, ipBuff.length);\n  if (ipString == null) {\n    throw new Error('ipBuff is required');\n  }\n  if (!ip.isIP(ipString)) {\n    throw new Error('invalid ip address');\n  }\n  return ipString;\n}\nfunction port2bytes(port) {\n  const buf = new ArrayBuffer(2);\n  const view = new DataView(buf);\n  view.setUint16(0, port);\n  return new Uint8Array(buf);\n}\nfunction bytes2port(buf) {\n  const view = new DataView(buf.buffer);\n  return view.getUint16(buf.byteOffset);\n}\nfunction str2bytes(str) {\n  const buf = uint8ArrayFromString(str);\n  const size = Uint8Array.from(varint.encode(buf.length));\n  return uint8ArrayConcat([size, buf], size.length + buf.length);\n}\nfunction bytes2str(buf) {\n  const size = varint.decode(buf);\n  buf = buf.slice(varint.encodingLength(size));\n  if (buf.length !== size) {\n    throw new Error('inconsistent lengths');\n  }\n  return uint8ArrayToString(buf);\n}\nfunction mh2bytes(hash) {\n  let mh;\n  if (hash[0] === 'Q' || hash[0] === '1') {\n    mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes;\n  } else {\n    mh = CID.parse(hash).multihash.bytes;\n  }\n  // the address is a varint prefixed multihash string representation\n  const size = Uint8Array.from(varint.encode(mh.length));\n  return uint8ArrayConcat([size, mh], size.length + mh.length);\n}\nfunction mb2bytes(mbstr) {\n  const mb = anybaseDecoder.decode(mbstr);\n  const size = Uint8Array.from(varint.encode(mb.length));\n  return uint8ArrayConcat([size, mb], size.length + mb.length);\n}\nfunction bytes2mb(buf) {\n  const size = varint.decode(buf);\n  const hash = buf.slice(varint.encodingLength(size));\n  if (hash.length !== size) {\n    throw new Error('inconsistent lengths');\n  }\n  return 'u' + uint8ArrayToString(hash, 'base64url');\n}\n/**\n * Converts bytes to bas58btc string\n */\nfunction bytes2mh(buf) {\n  const size = varint.decode(buf);\n  const address = buf.slice(varint.encodingLength(size));\n  if (address.length !== size) {\n    throw new Error('inconsistent lengths');\n  }\n  return uint8ArrayToString(address, 'base58btc');\n}\nfunction onion2bytes(str) {\n  const addr = str.split(':');\n  if (addr.length !== 2) {\n    throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`);\n  }\n  if (addr[0].length !== 16) {\n    throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion address.`);\n  }\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode('b' + addr[0]);\n  // onion port number\n  const port = parseInt(addr[1], 10);\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)');\n  }\n  const portBuf = port2bytes(port);\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length);\n}\nfunction onion32bytes(str) {\n  const addr = str.split(':');\n  if (addr.length !== 2) {\n    throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`);\n  }\n  if (addr[0].length !== 56) {\n    throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion3 address.`);\n  }\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode(`b${addr[0]}`);\n  // onion port number\n  const port = parseInt(addr[1], 10);\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)');\n  }\n  const portBuf = port2bytes(port);\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length);\n}\nfunction bytes2onion(buf) {\n  const addrBytes = buf.slice(0, buf.length - 2);\n  const portBytes = buf.slice(buf.length - 2);\n  const addr = uint8ArrayToString(addrBytes, 'base32');\n  const port = bytes2port(portBytes);\n  return `${addr}:${port}`;\n}","map":{"version":3,"names":["IpNet","base32","base58btc","bases","CID","Digest","varint","concat","uint8ArrayConcat","fromString","uint8ArrayFromString","toString","uint8ArrayToString","ip","getProtocol","ip4Protocol","ip6Protocol","ipcidrProtocol","convert","proto","a","Uint8Array","convertToString","convertToBytes","buf","protocol","code","bytes2ip","bytes2str","bytes2port","bytes2mh","bytes2onion","bytes2mb","str","ip2bytes","str2bytes","port2bytes","parseInt","mh2bytes","onion2bytes","onion32bytes","mb2bytes","convertToIpNet","multiaddr","mask","addr","stringTuples","forEach","value","Error","decoders","Object","values","map","c","decoder","anybaseDecoder","acc","or","slice","d","ipString","isIP","toBytes","ipBuff","length","port","ArrayBuffer","view","DataView","setUint16","buffer","getUint16","byteOffset","size","from","encode","decode","encodingLength","hash","mh","bytes","parse","multihash","mbstr","mb","address","split","join","portBuf","addrBytes","portBytes"],"sources":["../../src/convert.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}