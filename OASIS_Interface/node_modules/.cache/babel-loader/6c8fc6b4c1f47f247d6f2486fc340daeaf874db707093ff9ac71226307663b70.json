{"ast":null,"code":"// load websocket library if we are not in the browser\nimport WebSocket from './web-socket.js';\nimport duplex from './duplex.js';\nimport wsurl from './ws-url.js';\nexport function connect(addr, opts) {\n  const location = typeof window === 'undefined' ? '' : window.location;\n  opts = opts ?? {};\n  const url = wsurl(addr, location.toString());\n  const socket = new WebSocket(url, opts.websocket);\n  return duplex(socket, opts);\n}","map":{"version":3,"names":["WebSocket","duplex","wsurl","connect","addr","opts","location","window","url","toString","socket","websocket"],"sources":["../../src/client.ts"],"sourcesContent":[null],"mappings":"AAAA;AACA,OAAOA,SAAS,MAAM,iBAAiB;AACvC,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,KAAK,MAAM,aAAa;AAS/B,OAAM,SAAUC,OAAOA,CAAEC,IAAY,EAAEC,IAAuB;EAC5D,MAAMC,QAAQ,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAG,EAAE,GAAGA,MAAM,CAACD,QAAQ;EACrED,IAAI,GAAGA,IAAI,IAAI,EAAE;EAEjB,MAAMG,GAAG,GAAGN,KAAK,CAACE,IAAI,EAAEE,QAAQ,CAACG,QAAQ,EAAE,CAAC;EAC5C,MAAMC,MAAM,GAAG,IAAIV,SAAS,CAACQ,GAAG,EAAEH,IAAI,CAACM,SAAS,CAAC;EAEjD,OAAOV,MAAM,CAACS,MAAM,EAAEL,IAAI,CAAC;AAC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}