{"ast":null,"code":"// import { mintNFTContractABI } from \"@/contract/Contract\";\nimport { getSaleList, Buy } from \"@/api/axios/contract\";\nexport default {\n  name: \"MarketSellIndex\",\n  props: {},\n  data() {\n    return {\n      NFTList: [],\n      contract: null,\n      filteredNFTList: []\n    };\n  },\n  mounted() {\n    // this.NFTList = getSaleList()\n    // console.log(this.NFTList);\n    getSaleList().then(re => {\n      // console.log(this.NFTList);\n      this.NFTList = re;\n      this.filteredNFTList = re.filter(NFT => NFT.isActive);\n      ;\n      // setTimeout(JSON.parse(re.tokenURI),2000)\n      console.log(re);\n      // console.log(re.tokenURI);\n    });\n  },\n\n  methods: {\n    // async getnftContractInf(NFT) {\n    //   let NFTImageURL = \"\";\n    //   let MintABI = \"\";\n    //   await mintNFTContractABI().then(re => {\n    //     MintABI = re\n    //   })\n    //   let NFTContract = await new this.Web3.eth.Contract(MintABI, NFT.nftContract);\n    //   await NFTContract.methods.tokenURI(Number(NFT.tokenId)).call().then(re => {\n    //     NFTImageURL=re\n    //   });\n    //   return NFTImageURL;\n    // },\n    GETHashAvatar(address) {\n      return \"data:image/png;base64,\" + new this.Identicon(address, 120).toString();\n    },\n    async Buy(NFT) {\n      if (NFT.seller.toUpperCase() === this.$store.state.currentAddress.toUpperCase()) {\n        alert(\"别买自己的\");\n      } else {\n        await Buy(NFT);\n      }\n    }\n  }\n};","map":{"version":3,"names":["getSaleList","Buy","name","props","data","NFTList","contract","filteredNFTList","mounted","then","re","filter","NFT","isActive","console","log","methods","GETHashAvatar","address","Identicon","toString","seller","toUpperCase","$store","state","currentAddress","alert"],"sources":["src/views/market/MarketShopType/index.vue"],"sourcesContent":["<template>\n  <div class=\"TypeModel\">\n    <!-- <div class=\"NFTInf\" v-for=\"NFT in this.NFTList.filter(NFT => NFT.isActive)\" :key=\"NFT.TokenURI\">\n      <div class=\"imageBox\">\n        <img class=\"NFTImage\" :src=\"JSON.parse(NFT.tokenURI).image \" alt=\"\" />\n      </div>\n      <div class=\"Inf\">\n        <div class=\"NFTName\"></div>\n        <div class=\"ownerAndPrice\">\n          <div class=\"ownerBox\">\n            <div class=\"ownerOutBorder\">\n              <img class=\"owner\" :src=\"GETHashAvatar(NFT.seller.toString())\" alt=\"\" width=\"36px\" height=\"36px\" />\n            </div>\n            <div class=\"ownerName\">{{ NFT.seller.slice(0, 5) + \"...\" + NFT.seller.slice(37) }}\n            </div>\n          </div>\n          <div class=\"priceBox\">\n            <div class=\"priceinnerBox\" @click=\"Buy(NFT)\">\n              <i class=\"el-icon-sort\"></i>\n              <span class=\"price\"> {{$store.state.Web3?$store.state.Web3.utils.fromWei(NFT.price, 'ether'):\"请登录\"}}ETH</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div> -->\n    <el-table :data=\"filteredNFTList\">\n      <el-table-column prop=\"tokenURI\" label=\"NFT Image\">\n        <template slot-scope=\"scope\">\n            <img width=\"100px\" height=\"100px\" :src=\"JSON.parse(scope.row.tokenURI).image\" alt=\"\" />\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"\">\n        <template slot-scope=\"scope\">\n          {{ scope.row.seller.slice(0, 5) + '...' + scope.row.seller.slice(37) }}\n        </template>\n      </el-table-column>\n\n      <el-table-column prop=\"price\" label=\"Price\">\n        <template slot-scope=\"scope\">\n          {{ $store.state.Web3 ? $store.state.Web3.utils.fromWei(scope.row.price, 'ether') : '请登录' }} ETH\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\n  // import { mintNFTContractABI } from \"@/contract/Contract\";\n  import { getSaleList, Buy } from \"@/api/axios/contract\";\n  export default {\n    name: \"MarketSellIndex\",\n    props: {},\n    data() {\n      return {\n        NFTList: [],\n        contract: null,\n        filteredNFTList:[],\n      };\n    },\n    mounted() {\n      // this.NFTList = getSaleList()\n      // console.log(this.NFTList);\n      getSaleList().then((re) => {\n        // console.log(this.NFTList);\n        this.NFTList = re\n       this.filteredNFTList = re.filter((NFT) => NFT.isActive);;\n        // setTimeout(JSON.parse(re.tokenURI),2000)\n        console.log(re);\n        // console.log(re.tokenURI);\n      });\n    },\n    methods: {\n      // async getnftContractInf(NFT) {\n      //   let NFTImageURL = \"\";\n      //   let MintABI = \"\";\n      //   await mintNFTContractABI().then(re => {\n      //     MintABI = re\n      //   })\n      //   let NFTContract = await new this.Web3.eth.Contract(MintABI, NFT.nftContract);\n      //   await NFTContract.methods.tokenURI(Number(NFT.tokenId)).call().then(re => {\n      //     NFTImageURL=re\n      //   });\n      //   return NFTImageURL;\n      // },\n      GETHashAvatar(address) {\n        return (\n          \"data:image/png;base64,\" + new this.Identicon(address, 120).toString()\n        );\n      },\n      async Buy(NFT) {\n        if (\n          NFT.seller.toUpperCase() ===\n          this.$store.state.currentAddress.toUpperCase()\n        ) {\n          alert(\"别买自己的\");\n        } else {\n          await Buy(NFT);\n        }\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n.TypeModel {\n  // display: flex;\n  // justify-content: space-around;\n  // flex-wrap: wrap;\n  // gap: 0.5%;\n  // height: auto;\n  // text-align: center;\n  // font-family: Arial, Helvetica, sans-serif;\n}\n.NFTInf {\n  background-color: var(--White--);\n  margin-bottom: 5%;\n  border-radius: 30px;\n  width: 240px;\n  height: 325px;\n  display: inline-block;\n  overflow: hidden;\n  transition: all 0.3s ease-in-out;\n  &:hover {\n    box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px,\n      rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;\n    transition: all 0.3s ease-in-out;\n  }\n}\n// .NFTInf:nth-child(n + 1) {\n//   margin-right: 2%;\n//   margin-left: 2%;\n//   margin-bottom: 4%;\n//   margin-top: 1.2%;\n// }\n// .NFTInf:nth-child(n) {\n//   margin-bottom: 4%;\n//   margin-top: 1.2%;\n// }\n\n@media screen and (max-width: 1600px) and (min-width: 1600px) {\n  .TypeModel {\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    display: flex;\n  }\n}\n.imageBox {\n  width: 100%;\n  height: 63%;\n  border-radius: 30px;\n  position: relative;\n  z-index: 1;\n  overflow: hidden;\n}\n.Inf {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.NFTImage {\n  object-fit: fill;\n  width: 100%;\n  height: 100%;\n  transition: all 0.6s;\n  cursor: pointer;\n  transform: scale(1.1);\n  overflow: hidden;\n  &:hover {\n    transform: scale(1.4);\n\n    transition: all 0.6s;\n  }\n}\n.NFTName {\n  color: var(--Dark--);\n  font-weight: 800;\n  text-align: left;\n  margin-left: 20px;\n  margin-top: 15%;\n  font-size: 22px;\n}\n.ownerAndPrice {\n  width: 100%;\n  display: flex;\n  margin-top: 18px;\n}\n.ownerBox {\n  flex: 2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.priceBox {\n  flex: 1;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n}\n.ownerOutBorder {\n  width: 36px;\n  height: 36px;\n  border: 1px solid white;\n  border-radius: 50%;\n  overflow: hidden;\n  margin-right: 10px;\n}\n.owner {\n  display: inline-block;\n}\n.ownerName {\n  font-size: 12px;\n  color: var(--Dark--);\n}\n.priceinnerBox {\n  width: 70px;\n  padding: 13px 0px 13px 0px;\n  color: #55c960;\n  background-color: rgba(85, 201, 96, 0.12);\n  border-radius: 10px;\n  cursor: pointer;\n  transition: all 0.3s ease-in-out;\n  &:hover {\n    background-color: rgba(85, 201, 96, 0.24);\n    transition: all 0.3s ease-in-out;\n  }\n}\n.price {\n  font-size: 12px;\n  font-weight: 800;\n}\n</style>\n"],"mappings":"AAgDA;AACA,SAAAA,WAAA,EAAAC,GAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACA;IACA;IACAR,WAAA,GAAAS,IAAA,CAAAC,EAAA;MACA;MACA,KAAAL,OAAA,GAAAK,EAAA;MACA,KAAAH,eAAA,GAAAG,EAAA,CAAAC,MAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAC,QAAA;MAAA;MACA;MACAC,OAAA,CAAAC,GAAA,CAAAL,EAAA;MACA;IACA;EACA;;EACAM,OAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,cAAAC,OAAA;MACA,OACA,oCAAAC,SAAA,CAAAD,OAAA,OAAAE,QAAA;IAEA;IACA,MAAAnB,IAAAW,GAAA;MACA,IACAA,GAAA,CAAAS,MAAA,CAAAC,WAAA,OACA,KAAAC,MAAA,CAAAC,KAAA,CAAAC,cAAA,CAAAH,WAAA,IACA;QACAI,KAAA;MACA;QACA,MAAAzB,GAAA,CAAAW,GAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}