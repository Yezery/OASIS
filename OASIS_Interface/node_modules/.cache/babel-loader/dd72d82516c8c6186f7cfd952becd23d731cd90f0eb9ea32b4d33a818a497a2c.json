{"ast":null,"code":"'use strict';\n\n// From https://github.com/sindresorhus/random-int/blob/c37741b56f76b9160b0b63dae4e9c64875128146/index.js#L13-L15\nconst randomInteger = (minimum, maximum) => Math.floor(Math.random() * (maximum - minimum + 1) + minimum);\nconst createAbortError = () => {\n  const error = new Error('Delay aborted');\n  error.name = 'AbortError';\n  return error;\n};\nconst createDelay = ({\n  clearTimeout: defaultClear,\n  setTimeout: set,\n  willResolve\n}) => (ms, {\n  value,\n  signal\n} = {}) => {\n  if (signal && signal.aborted) {\n    return Promise.reject(createAbortError());\n  }\n  let timeoutId;\n  let settle;\n  let rejectFn;\n  const clear = defaultClear || clearTimeout;\n  const signalListener = () => {\n    clear(timeoutId);\n    rejectFn(createAbortError());\n  };\n  const cleanup = () => {\n    if (signal) {\n      signal.removeEventListener('abort', signalListener);\n    }\n  };\n  const delayPromise = new Promise((resolve, reject) => {\n    settle = () => {\n      cleanup();\n      if (willResolve) {\n        resolve(value);\n      } else {\n        reject(value);\n      }\n    };\n    rejectFn = reject;\n    timeoutId = (set || setTimeout)(settle, ms);\n  });\n  if (signal) {\n    signal.addEventListener('abort', signalListener, {\n      once: true\n    });\n  }\n  delayPromise.clear = () => {\n    clear(timeoutId);\n    timeoutId = null;\n    settle();\n  };\n  return delayPromise;\n};\nconst createWithTimers = clearAndSet => {\n  const delay = createDelay({\n    ...clearAndSet,\n    willResolve: true\n  });\n  delay.reject = createDelay({\n    ...clearAndSet,\n    willResolve: false\n  });\n  delay.range = (minimum, maximum, options) => delay(randomInteger(minimum, maximum), options);\n  return delay;\n};\nconst delay = createWithTimers();\ndelay.createWithTimers = createWithTimers;\nmodule.exports = delay;\n// TODO: Remove this for the next major release\nmodule.exports.default = delay;","map":{"version":3,"names":["randomInteger","minimum","maximum","Math","floor","random","createAbortError","error","Error","name","createDelay","clearTimeout","defaultClear","setTimeout","set","willResolve","ms","value","signal","aborted","Promise","reject","timeoutId","settle","rejectFn","clear","signalListener","cleanup","removeEventListener","delayPromise","resolve","addEventListener","once","createWithTimers","clearAndSet","delay","range","options","module","exports","default"],"sources":["/Users/yezery/Oasis/OASIS/node_modules/.store/delay@5.0.0/node_modules/delay/index.js"],"sourcesContent":["'use strict';\n\n// From https://github.com/sindresorhus/random-int/blob/c37741b56f76b9160b0b63dae4e9c64875128146/index.js#L13-L15\nconst randomInteger = (minimum, maximum) => Math.floor((Math.random() * (maximum - minimum + 1)) + minimum);\n\nconst createAbortError = () => {\n\tconst error = new Error('Delay aborted');\n\terror.name = 'AbortError';\n\treturn error;\n};\n\nconst createDelay = ({clearTimeout: defaultClear, setTimeout: set, willResolve}) => (ms, {value, signal} = {}) => {\n\tif (signal && signal.aborted) {\n\t\treturn Promise.reject(createAbortError());\n\t}\n\n\tlet timeoutId;\n\tlet settle;\n\tlet rejectFn;\n\tconst clear = defaultClear || clearTimeout;\n\n\tconst signalListener = () => {\n\t\tclear(timeoutId);\n\t\trejectFn(createAbortError());\n\t};\n\n\tconst cleanup = () => {\n\t\tif (signal) {\n\t\t\tsignal.removeEventListener('abort', signalListener);\n\t\t}\n\t};\n\n\tconst delayPromise = new Promise((resolve, reject) => {\n\t\tsettle = () => {\n\t\t\tcleanup();\n\t\t\tif (willResolve) {\n\t\t\t\tresolve(value);\n\t\t\t} else {\n\t\t\t\treject(value);\n\t\t\t}\n\t\t};\n\n\t\trejectFn = reject;\n\t\ttimeoutId = (set || setTimeout)(settle, ms);\n\t});\n\n\tif (signal) {\n\t\tsignal.addEventListener('abort', signalListener, {once: true});\n\t}\n\n\tdelayPromise.clear = () => {\n\t\tclear(timeoutId);\n\t\ttimeoutId = null;\n\t\tsettle();\n\t};\n\n\treturn delayPromise;\n};\n\nconst createWithTimers = clearAndSet => {\n\tconst delay = createDelay({...clearAndSet, willResolve: true});\n\tdelay.reject = createDelay({...clearAndSet, willResolve: false});\n\tdelay.range = (minimum, maximum, options) => delay(randomInteger(minimum, maximum), options);\n\treturn delay;\n};\n\nconst delay = createWithTimers();\ndelay.createWithTimers = createWithTimers;\n\nmodule.exports = delay;\n// TODO: Remove this for the next major release\nmodule.exports.default = delay;\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA,MAAMA,aAAa,GAAGA,CAACC,OAAO,EAAEC,OAAO,KAAKC,IAAI,CAACC,KAAK,CAAED,IAAI,CAACE,MAAM,CAAC,CAAC,IAAIH,OAAO,GAAGD,OAAO,GAAG,CAAC,CAAC,GAAIA,OAAO,CAAC;AAE3G,MAAMK,gBAAgB,GAAGA,CAAA,KAAM;EAC9B,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAAC,eAAe,CAAC;EACxCD,KAAK,CAACE,IAAI,GAAG,YAAY;EACzB,OAAOF,KAAK;AACb,CAAC;AAED,MAAMG,WAAW,GAAGA,CAAC;EAACC,YAAY,EAAEC,YAAY;EAAEC,UAAU,EAAEC,GAAG;EAAEC;AAAW,CAAC,KAAK,CAACC,EAAE,EAAE;EAACC,KAAK;EAAEC;AAAM,CAAC,GAAG,CAAC,CAAC,KAAK;EACjH,IAAIA,MAAM,IAAIA,MAAM,CAACC,OAAO,EAAE;IAC7B,OAAOC,OAAO,CAACC,MAAM,CAACf,gBAAgB,CAAC,CAAC,CAAC;EAC1C;EAEA,IAAIgB,SAAS;EACb,IAAIC,MAAM;EACV,IAAIC,QAAQ;EACZ,MAAMC,KAAK,GAAGb,YAAY,IAAID,YAAY;EAE1C,MAAMe,cAAc,GAAGA,CAAA,KAAM;IAC5BD,KAAK,CAACH,SAAS,CAAC;IAChBE,QAAQ,CAAClB,gBAAgB,CAAC,CAAC,CAAC;EAC7B,CAAC;EAED,MAAMqB,OAAO,GAAGA,CAAA,KAAM;IACrB,IAAIT,MAAM,EAAE;MACXA,MAAM,CAACU,mBAAmB,CAAC,OAAO,EAAEF,cAAc,CAAC;IACpD;EACD,CAAC;EAED,MAAMG,YAAY,GAAG,IAAIT,OAAO,CAAC,CAACU,OAAO,EAAET,MAAM,KAAK;IACrDE,MAAM,GAAGA,CAAA,KAAM;MACdI,OAAO,CAAC,CAAC;MACT,IAAIZ,WAAW,EAAE;QAChBe,OAAO,CAACb,KAAK,CAAC;MACf,CAAC,MAAM;QACNI,MAAM,CAACJ,KAAK,CAAC;MACd;IACD,CAAC;IAEDO,QAAQ,GAAGH,MAAM;IACjBC,SAAS,GAAG,CAACR,GAAG,IAAID,UAAU,EAAEU,MAAM,EAAEP,EAAE,CAAC;EAC5C,CAAC,CAAC;EAEF,IAAIE,MAAM,EAAE;IACXA,MAAM,CAACa,gBAAgB,CAAC,OAAO,EAAEL,cAAc,EAAE;MAACM,IAAI,EAAE;IAAI,CAAC,CAAC;EAC/D;EAEAH,YAAY,CAACJ,KAAK,GAAG,MAAM;IAC1BA,KAAK,CAACH,SAAS,CAAC;IAChBA,SAAS,GAAG,IAAI;IAChBC,MAAM,CAAC,CAAC;EACT,CAAC;EAED,OAAOM,YAAY;AACpB,CAAC;AAED,MAAMI,gBAAgB,GAAGC,WAAW,IAAI;EACvC,MAAMC,KAAK,GAAGzB,WAAW,CAAC;IAAC,GAAGwB,WAAW;IAAEnB,WAAW,EAAE;EAAI,CAAC,CAAC;EAC9DoB,KAAK,CAACd,MAAM,GAAGX,WAAW,CAAC;IAAC,GAAGwB,WAAW;IAAEnB,WAAW,EAAE;EAAK,CAAC,CAAC;EAChEoB,KAAK,CAACC,KAAK,GAAG,CAACnC,OAAO,EAAEC,OAAO,EAAEmC,OAAO,KAAKF,KAAK,CAACnC,aAAa,CAACC,OAAO,EAAEC,OAAO,CAAC,EAAEmC,OAAO,CAAC;EAC5F,OAAOF,KAAK;AACb,CAAC;AAED,MAAMA,KAAK,GAAGF,gBAAgB,CAAC,CAAC;AAChCE,KAAK,CAACF,gBAAgB,GAAGA,gBAAgB;AAEzCK,MAAM,CAACC,OAAO,GAAGJ,KAAK;AACtB;AACAG,MAAM,CAACC,OAAO,CAACC,OAAO,GAAGL,KAAK"},"metadata":{},"sourceType":"script","externalDependencies":[]}