{"ast":null,"code":"import { Service } from '../utils/service.js';\n\n/**\n * @param {object} config\n * @param {import('../types').NetworkService} config.network\n * @param {import('../types').Preload} config.preload\n * @param {import('./ipns').IPNSAPI} config.ipns\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('../types').MfsPreload} config.mfsPreload\n */\nexport function createStop({\n  network,\n  preload,\n  ipns,\n  repo,\n  mfsPreload\n}) {\n  /**\n   * @type {import('ipfs-core-types/src/root').API<{}>[\"stop\"]}\n   */\n  const stop = async () => {\n    await Promise.all([preload.stop(), ipns.stop(), mfsPreload.stop()]);\n    await Service.stop(network);\n\n    // must be closed after stopping services as some of them\n    // will write into the datastore\n    await repo.close();\n  };\n  return stop;\n}","map":{"version":3,"names":["Service","createStop","network","preload","ipns","repo","mfsPreload","stop","Promise","all","close"],"sources":["/Users/yezery/Oasis/OASIS/node_modules/.store/ipfs-core@0.18.1/node_modules/ipfs-core/src/components/stop.js"],"sourcesContent":["import { Service } from '../utils/service.js'\n\n/**\n * @param {object} config\n * @param {import('../types').NetworkService} config.network\n * @param {import('../types').Preload} config.preload\n * @param {import('./ipns').IPNSAPI} config.ipns\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('../types').MfsPreload} config.mfsPreload\n */\nexport function createStop ({ network, preload, ipns, repo, mfsPreload }) {\n  /**\n   * @type {import('ipfs-core-types/src/root').API<{}>[\"stop\"]}\n   */\n  const stop = async () => {\n    await Promise.all([\n      preload.stop(),\n      ipns.stop(),\n      mfsPreload.stop()\n    ])\n\n    await Service.stop(network)\n\n    // must be closed after stopping services as some of them\n    // will write into the datastore\n    await repo.close()\n  }\n\n  return stop\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,qBAAqB;;AAE7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAAE;EAAEC,OAAO;EAAEC,OAAO;EAAEC,IAAI;EAAEC,IAAI;EAAEC;AAAW,CAAC,EAAE;EACxE;AACF;AACA;EACE,MAAMC,IAAI,GAAG,MAAAA,CAAA,KAAY;IACvB,MAAMC,OAAO,CAACC,GAAG,CAAC,CAChBN,OAAO,CAACI,IAAI,CAAC,CAAC,EACdH,IAAI,CAACG,IAAI,CAAC,CAAC,EACXD,UAAU,CAACC,IAAI,CAAC,CAAC,CAClB,CAAC;IAEF,MAAMP,OAAO,CAACO,IAAI,CAACL,OAAO,CAAC;;IAE3B;IACA;IACA,MAAMG,IAAI,CAACK,KAAK,CAAC,CAAC;EACpB,CAAC;EAED,OAAOH,IAAI;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}