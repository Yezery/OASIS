{"ast":null,"code":"import \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport webcrypto from '../webcrypto.js';\nimport lengths from './lengths.js';\nconst hashTypes = {\n  SHA1: 'SHA-1',\n  SHA256: 'SHA-256',\n  SHA512: 'SHA-512'\n};\nconst sign = async (key, data) => {\n  const buf = await webcrypto.get().subtle.sign({\n    name: 'HMAC'\n  }, key, data);\n  return new Uint8Array(buf, 0, buf.byteLength);\n};\nexport async function create(hashType, secret) {\n  const hash = hashTypes[hashType];\n  const key = await webcrypto.get().subtle.importKey('raw', secret, {\n    name: 'HMAC',\n    hash: {\n      name: hash\n    }\n  }, false, ['sign']);\n  return {\n    async digest(data) {\n      return sign(key, data);\n    },\n    length: lengths[hashType]\n  };\n}","map":{"version":3,"names":["webcrypto","lengths","hashTypes","SHA1","SHA256","SHA512","sign","key","data","buf","get","subtle","name","Uint8Array","byteLength","create","hashType","secret","hash","importKey","digest","length"],"sources":["../../../src/hmac/index-browser.ts"],"sourcesContent":[null],"mappings":";;;AAAA,OAAOA,SAAS,MAAM,iBAAiB;AACvC,OAAOC,OAAO,MAAM,cAAc;AAElC,MAAMC,SAAS,GAAG;EAChBC,IAAI,EAAE,OAAO;EACbC,MAAM,EAAE,SAAS;EACjBC,MAAM,EAAE;CACT;AAED,MAAMC,IAAI,GAAG,MAAAA,CAAOC,GAAc,EAAEC,IAAgB,KAAyB;EAC3E,MAAMC,GAAG,GAAG,MAAMT,SAAS,CAACU,GAAG,EAAE,CAACC,MAAM,CAACL,IAAI,CAAC;IAAEM,IAAI,EAAE;EAAM,CAAE,EAAEL,GAAG,EAAEC,IAAI,CAAC;EAC1E,OAAO,IAAIK,UAAU,CAACJ,GAAG,EAAE,CAAC,EAAEA,GAAG,CAACK,UAAU,CAAC;AAC/C,CAAC;AAED,OAAO,eAAeC,MAAMA,CAAEC,QAAsC,EAAEC,MAAkB;EACtF,MAAMC,IAAI,GAAGhB,SAAS,CAACc,QAAQ,CAAC;EAEhC,MAAMT,GAAG,GAAG,MAAMP,SAAS,CAACU,GAAG,EAAE,CAACC,MAAM,CAACQ,SAAS,CAChD,KAAK,EACLF,MAAM,EACN;IACEL,IAAI,EAAE,MAAM;IACZM,IAAI,EAAE;MAAEN,IAAI,EAAEM;IAAI;GACnB,EACD,KAAK,EACL,CAAC,MAAM,CAAC,CACT;EAED,OAAO;IACL,MAAME,MAAMA,CAAEZ,IAAgB;MAC5B,OAAOF,IAAI,CAACC,GAAG,EAAEC,IAAI,CAAC;IACxB,CAAC;IACDa,MAAM,EAAEpB,OAAO,CAACe,QAAQ;GACzB;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}