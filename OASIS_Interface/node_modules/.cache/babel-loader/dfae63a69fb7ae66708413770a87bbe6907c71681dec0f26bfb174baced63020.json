{"ast":null,"code":"export default {\n  data() {\n    return {\n      isUnlocked: false\n    };\n  },\n  async mounted() {\n    if (window.ethereum != undefined) {\n      await window.ethereum._metamask.isUnlocked().then(re => this.isUnlocked = re);\n    }\n  },\n  methods: {\n    connectWallet() {\n      this.$store.commit(\"setGetToken\", true);\n    },\n    disConnect() {\n      window.ethereum.on('disconnect', () => {\n        this.$notify({\n          title: \"断开成功\",\n          type: \"success\",\n          position: \"top-left\",\n          offset: 200\n        });\n      });\n      this.$store.commit(\"setGetToken\", false);\n      this.$store.commit(\"setConnection\", false);\n      this.$store.commit(\"setEmpower\", false);\n      this.$store.commit(\"setOwnerNFTList\", []);\n    }\n  }\n};","map":{"version":3,"names":["data","isUnlocked","mounted","window","ethereum","undefined","_metamask","then","re","methods","connectWallet","$store","commit","disConnect","on","$notify","title","type","position","offset"],"sources":["src/views/bar/walletConnect.vue"],"sourcesContent":["<template>\n  <div class=\"Walletbox\">\n    <el-popover\n      placement=\"top-end\"\n      trigger=\"click\"\n      :offset=\"200\"\n      :visible-arrow=\"false\"\n      :close-delay=\"0\"\n      popper-class=\"userSelectDropdown animate__animated animate__flipInX\"\n    >\n      <div class=\"userSelect_connected\" v-if=\"$store.state.isconnect || isUnlocked\">\n        <div class=\"userSelect_title\" >\n          <div>\n            操作\n          </div>\n        </div>\n       \n          <router-link to=\"/userhome\" class=\"userSelect_item\">\n            个人主页\n        </router-link>\n   \n        <div class=\"userSelect_item\">\n          找回授权码\n        </div>\n        <div class=\"userSelect_item\" @click=\"disConnect\">\n          断开连接\n        </div>\n      </div>\n      <div class=\"userSelect_unconnect\" v-else>\n        <div class=\"userSelect_title\" >\n          <div>\n            操作\n          </div>\n        </div>\n        <div class=\"userSelect_item\" @click=\"connectWallet\">\n            授权\n        </div>\n      </div>\n      <div\n        class=\"WalletInnerBox\"\n        slot=\"reference\"\n      >\n        <span class=\"avatarBox\">\n          <!-- @click=\"openEmpower\" -->\n          <img\n            class=\"avatar\"\n            :src=\"$store.state.avatar\"\n            alt=\"\"\n            ref=\"avatar\"\n            slot=\"reference\"\n          >\n        </span>\n        <!-- <div class=\"userSelect\">\n      <div class=\"userSelect_item\">切换</div>\n      <div class=\"userSelect_item\">找回</div>\n      <div class=\"userSelect_item\">退出</div> -->\n      </div>\n    </el-popover>\n    <!-- <span class=\"address\">{{ \n        $store.state.currentAddress==\"\"?\"MetaMask is not connected\":`${this.$store.state.currentAddress.slice(\n          0,\n          5\n        )}...${this.$store.state.currentAddress.slice(-5)}`\n      }}\n      </span> -->\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        isUnlocked:false\n      };\n    },\n  async mounted() {\n    if (window.ethereum != undefined) {\n      await window.ethereum._metamask\n        .isUnlocked()\n        .then((re) => (this.isUnlocked = re));\n    }\n    },\n  methods: {\n    connectWallet() {\n      this.$store.commit(\"setGetToken\", true);\n    },\n    disConnect() {\n      window.ethereum.on('disconnect', () => {\n        this.$notify({\n            title: \"断开成功\",\n            type: \"success\",\n            position: \"top-left\",\n            offset: 200,\n          });\n      })\n      this.$store.commit(\"setGetToken\", false);\n      this.$store.commit(\"setConnection\", false);\n      this.$store.commit(\"setEmpower\", false);\n      this.$store.commit(\"setOwnerNFTList\",[])\n     \n    }\n    },\n  };\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/style/topMenu/walletConnect.scss\";\n\n.MetaMaskAvatar {\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.BOX {\n  width: 100%;\n  height: 80px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.address {\n  margin-left: 5%;\n  color: var(--Dark--);\n  font-weight: 800;\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  border-radius: 10px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  padding-left: 5px;\n  padding-right: 5px;\n  font-family: Arial, Helvetica, sans-serif;\n  transition: all 0.3s ease-in-out;\n  &:hover {\n    background-color: rgba(238, 238, 238, 0.1);\n    transition: all 0.3s ease-in-out;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.userSelectDropdown {\n  transition: $globalTransition;\n  padding: 0;\n  margin: 0;\n  width: 200px;\n  border-radius: 15px;\n  background-color: var(--White--);\n  border: 1px solid var(--FG--);\n  .userSelect_connected {\n    color: var(--Dark--);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    border-radius: 10px;\n    overflow: hidden;\n    border: .5px solid var(--FG--);\n    .userSelect_title{\n      padding-left: 20%;\n      width: 100%;\n      padding-top: 5%;\n      padding-bottom: 3%;\n      font-size: 12px;\n      color: rgb(156,163,175);\n    }\n    .userSelect_title{\n      padding-left: 20%;\n      width: 100%;\n      padding-top: 5%;\n      padding-bottom: 3%;\n      font-size: 12px;\n      color: rgb(156,163,175);\n    }\n    .userSelect_item {\n     color: var(--Gray--);\n      display: flex;\n      justify-content: flex-start;\n      align-items: center;\n      font-size: 13px;\n      padding-left: 50%;\n      font-family: \"PF\";\n      width: 100%;\n      font-weight: 300;\n      height: 40px;\n      cursor: pointer;\n      &:hover {\n        background-color: #cccccc20;\n      }\n    }\n  }\n  .userSelect_unconnect{\n    @extend .userSelect_connected;\n  }\n  .popper__arrow {\n    display: none;\n  }\n}\na{\n        text-decoration: none;\n        color: var(--Dark--);\n      }\n</style>"],"mappings":"AAqEA;EACAA,KAAA;IACA;MACAC,UAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,IAAAC,MAAA,CAAAC,QAAA,IAAAC,SAAA;MACA,MAAAF,MAAA,CAAAC,QAAA,CAAAE,SAAA,CACAL,UAAA,GACAM,IAAA,CAAAC,EAAA,SAAAP,UAAA,GAAAO,EAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,KAAAC,MAAA,CAAAC,MAAA;IACA;IACAC,WAAA;MACAV,MAAA,CAAAC,QAAA,CAAAU,EAAA;QACA,KAAAC,OAAA;UACAC,KAAA;UACAC,IAAA;UACAC,QAAA;UACAC,MAAA;QACA;MACA;MACA,KAAAR,MAAA,CAAAC,MAAA;MACA,KAAAD,MAAA,CAAAC,MAAA;MACA,KAAAD,MAAA,CAAAC,MAAA;MACA,KAAAD,MAAA,CAAAC,MAAA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}