{"ast":null,"code":"import { parseStringPromise } from 'xml2js';\nimport { fetch } from '../fetch.js';\nexport async function resolveLocation(location) {\n  if (location.substring(0, 4) !== 'http') {\n    location = `http://${location}`;\n  }\n  const text = await fetch(location, {\n    method: 'GET',\n    headers: {\n      accept: 'application/xml'\n    }\n  });\n  const result = await parseStringPromise(text, {\n    normalize: true,\n    explicitArray: false,\n    explicitRoot: true\n  });\n  if (result == null) {\n    return {};\n  }\n  return result.root ?? result;\n}","map":{"version":3,"names":["parseStringPromise","fetch","resolveLocation","location","substring","text","method","headers","accept","result","normalize","explicitArray","explicitRoot","root"],"sources":["../../../src/commands/resolve-location.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,kBAAkB,QAAQ,QAAQ;AAC3C,SAASC,KAAK,QAAQ,aAAa;AAEnC,OAAO,eAAeC,eAAeA,CAAEC,QAAgB;EACrD,IAAIA,QAAQ,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,EAAE;IACvCD,QAAQ,GAAG,UAAUA,QAAQ,EAAE;;EAGjC,MAAME,IAAI,GAAG,MAAMJ,KAAK,CAACE,QAAQ,EAAE;IACjCG,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACPC,MAAM,EAAE;;GAEX,CAAC;EACF,MAAMC,MAAM,GAAG,MAAMT,kBAAkB,CAACK,IAAI,EAAE;IAC5CK,SAAS,EAAE,IAAI;IACfC,aAAa,EAAE,KAAK;IACpBC,YAAY,EAAE;GACf,CAAC;EAEF,IAAIH,MAAM,IAAI,IAAI,EAAE;IAClB,OAAO,EAAE;;EAGX,OAAOA,MAAM,CAACI,IAAI,IAAIJ,MAAM;AAC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}