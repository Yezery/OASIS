{"ast":null,"code":"import * as echarts from \"echarts\";\nexport default {\n  data() {\n    return {\n      title: \"\",\n      isOpen: false,\n      subtitle: \"\",\n      chartOptions: {\n        title: {\n          text: \"\",\n          subtext: \"{b}\",\n          left: \"center\",\n          top: \"10%\",\n          color: \"#A1A2AF\",\n          fontFamily: \"Gilroy-Medium\",\n          fontSize: 20,\n          lineHeight: 24,\n          fontWeight: \"bold\",\n          subtextStyle: {\n            color: \"#ffffff\",\n            fontSize: 28,\n            fontFamily: \"Gilroy-Bold\",\n            fontWeight: \"bold\",\n            lineHeight: 36\n          }\n        },\n        xAxis: {\n          type: \"category\",\n          data: [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n          axisLine: {\n            show: false\n          },\n          axisTick: {\n            show: false\n          },\n          axisLabel: {\n            color: \"#ffffff\",\n            //坐标值得具体的颜色\n            fontSize: window.innerHeight * 0.0123 + \"\",\n            fontFamily: \"Gilroy-Medium\"\n          },\n          boundaryGap: false // 坐标轴两侧留白策略\n        },\n\n        yAxis: {\n          show: false\n        },\n        series: [{\n          type: \"line\",\n          smooth: true,\n          data: [8240, 7532, 5480, 6748, 5365, 7364, 5264],\n          itemStyle: {\n            color: \"#55C960\",\n            //改变折线点的颜色\n            lineStyle: {\n              width: 6\n              // color: \"#55C960\", //改变折线颜色\n            }\n          },\n\n          emphasis: {\n            itemStyle: {\n              color: \"white\"\n            },\n            label: {\n              show: true,\n              // 显示提示标签\n              //   color: \"white\", // 标签字体颜色\n              padding: [15, 25, 15, 25],\n              // 标签内边距\n              formatter: \"{b} $ {c}\",\n              // 标签内容格式\n              fontWeight: \"bolder\",\n              borderRadius: [10, 10, 10, 10],\n              // 设置\n              borderColor: \"white\",\n              backgroundColor: \"#1e1e2c\",\n              // 标签背景色\n              position: \"bottom\",\n              fontSize: 14,\n              color: \"white\"\n              // color: function (params) {\n              //   // 自定义颜色函数\n              //   var colorList = [];\n              //   var data = params.data;\n              //   for (var i = 0; i < data.length; i++) {\n              //     if (i == 0) {\n              //       colorList.push(\"blue\");\n              //     } else {\n              //       var diff = data[i] - data[i - 1];\n              //       if (diff >= 0) {\n              //         colorList.push(\"red\"); // 上升趋势设为红色\n              //       } else {\n              //         colorList.push(\"green\"); // 下降趋势设为绿色\n              //       }\n              //     }\n              //   }\n              //   return colorList;\n              // },\n              // color: [\"red\", \"green\", \"blue\", \"purple\", \"orange\", \"black\", \"grey\"]\n            }\n          },\n\n          symbol: \"emptyCircle\",\n          // 空心圆作为转折点标志\n          symbolSize: 12,\n          // 转折点标志大小\n          lineStyle: {\n            type: \"solid\" // 折线类型为实线\n          },\n\n          areaStyle: {\n            // 折线图区域填充样式\n            color: {\n              type: \"linear\",\n              x: 0,\n              y: 0,\n              x2: 0,\n              y2: 1,\n              colorStops: [{\n                offset: 0,\n                color: \"rgba(0, 255, 0, 0.3)\" // 折线图填充色的起始颜色和透明度\n              }, {\n                offset: 1,\n                color: \"rgba(0, 255, 0, 0)\" // 折线图填充色的结束颜色和透明度\n              }],\n\n              globalCoord: false // 缺省为 false\n            }\n          }\n        }]\n      }\n    };\n  },\n\n  methods: {\n    isDayLight() {\n      var currdate = new Date();\n      if (currdate.getHours() >= 18 || currdate.getHours() < 6) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    // updateTitleData() {\n    //   let myChart = echarts.init(document.getElementById(\"EchartsShow\"));\n    //   // 更新标题数据\n    //   var sum = 0;\n    //   for (\n    //     let index = 0;\n    //     index < this.chartOptions.series[0].data.length;\n    //     index++\n    //   ) {\n    //     sum += this.chartOptions.series[0].data[index];\n    //   }\n    //   this.subtitle = `$ ${sum}`;\n    //   // 使用 setOption 方法重新渲染图表\n    //   if (this.isDayLight()) {\n    //     this.chartOptions.title.subtext = this.subtitle;\n    //     this.chartOptions.xAxis.axisLabel.color = \"#000000\";\n    //     this.chartOptions.title.subtextStyle.color = \"#000000\";\n    //   } else {\n    //     this.chartOptions.title.subtext = this.subtitle;\n    //     this.chartOptions.title.subtextStyle.color = \"#ffffff\";\n    //     this.chartOptions.xAxis.axisLabel.color = \"#ffffff\";\n    //   }\n    //   myChart.setOption(this.chartOptions);\n    // },\n    calculTotal(chart) {},\n    echartsChangTheme() {\n      echarts.dispose(document.getElementById(\"EchartsShow\"));\n      if (this.isOpen) {\n        var sum = 0;\n        for (let index = 0; index < this.chartOptions.series[0].data.length; index++) {\n          sum += this.chartOptions.series[0].data[index];\n        }\n        this.title = `Balance`;\n        this.subtitle = `$ ${sum}`;\n      }\n      let myChart = echarts.init(document.getElementById(\"EchartsShow\"));\n      if (this.$store.state.isDark) {\n        this.chartOptions.title.text = this.title;\n        this.chartOptions.title.subtext = this.subtitle;\n        this.chartOptions.title.subtextStyle.color = \"#000000\";\n        this.chartOptions.xAxis.axisLabel.color = \"#000000\";\n      } else {\n        this.chartOptions.title.text = this.title;\n        this.chartOptions.title.subtext = this.subtitle;\n        this.chartOptions.title.subtextStyle.color = \"#ffffff\";\n        this.chartOptions.xAxis.axisLabel.color = \"#ffffff\";\n      }\n      myChart.setOption(this.chartOptions);\n    }\n  },\n  mounted() {\n    this.$emit(\"echartsChangTheme\", this.echartsChangTheme);\n    this.$refs.EchartBox.addEventListener(\"click\", () => {\n      this.$refs.EchartBox.style.height = \"400px\";\n      setTimeout(() => {\n        this.isOpen = true;\n        this.echartsChangTheme();\n      }, 300);\n    });\n    this.$refs.EchartBox.addEventListener(\"dblclick\", () => {\n      this.$refs.EchartBox.style.height = \"100px\";\n      setTimeout(() => {\n        this.isOpen = false;\n        this.subtitle = '';\n        this.title = '';\n        this.echartsChangTheme();\n      }, 300);\n    });\n  }\n};","map":{"version":3,"names":["echarts","data","title","isOpen","subtitle","chartOptions","text","subtext","left","top","color","fontFamily","fontSize","lineHeight","fontWeight","subtextStyle","xAxis","type","axisLine","show","axisTick","axisLabel","window","innerHeight","boundaryGap","yAxis","series","smooth","itemStyle","lineStyle","width","emphasis","label","padding","formatter","borderRadius","borderColor","backgroundColor","position","symbol","symbolSize","areaStyle","x","y","x2","y2","colorStops","offset","globalCoord","methods","isDayLight","currdate","Date","getHours","calculTotal","chart","echartsChangTheme","dispose","document","getElementById","sum","index","length","myChart","init","$store","state","isDark","setOption","mounted","$emit","$refs","EchartBox","addEventListener","style","height","setTimeout"],"sources":["src/views/extend/BalanceEchart.vue"],"sourcesContent":["<template>\n  <div id=\"EchartBox\" ref=\"EchartBox\">\n    <div id=\"EchartsShow\">\n    </div>\n  </div>\n</template>\n\n<script>\n  import * as echarts from \"echarts\";\n  export default {\n    data() {\n      return {\n        title: \"\",\n        isOpen:false,\n        subtitle: \"\",\n        chartOptions: {\n          title: {\n            text: \"\",\n            subtext: \"{b}\",\n            left: \"center\",\n            top: \"10%\",\n            color: \"#A1A2AF\",\n            fontFamily: \"Gilroy-Medium\",\n            fontSize: 20,\n            lineHeight: 24,\n            fontWeight: \"bold\",\n            subtextStyle: {\n              color: \"#ffffff\",\n              fontSize: 28,\n              fontFamily: \"Gilroy-Bold\",\n              fontWeight: \"bold\",\n              lineHeight: 36,\n            },\n          },\n          xAxis: {\n            type: \"category\",\n            data: [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n            axisLine: {\n              show: false,\n            },\n            axisTick: {\n              show: false,\n            },\n            axisLabel: {\n              color: \"#ffffff\", //坐标值得具体的颜色\n              fontSize: window.innerHeight * 0.0123 + \"\",\n              fontFamily: \"Gilroy-Medium\",\n            },\n            boundaryGap: false, // 坐标轴两侧留白策略\n          },\n          yAxis: {\n            show: false,\n          },\n          series: [\n            {\n              type: \"line\",\n              smooth: true,\n              data: [8240, 7532, 5480, 6748, 5365, 7364, 5264],\n              itemStyle: {\n                color: \"#55C960\", //改变折线点的颜色\n                lineStyle: {\n                  width: 6,\n                  // color: \"#55C960\", //改变折线颜色\n                },\n              },\n              emphasis: {\n                itemStyle: {\n                  color: \"white\",\n                },\n                label: {\n                  show: true, // 显示提示标签\n                  //   color: \"white\", // 标签字体颜色\n                  padding: [15, 25, 15, 25], // 标签内边距\n                  formatter: \"{b} $ {c}\", // 标签内容格式\n                  fontWeight: \"bolder\",\n                  borderRadius: [10, 10, 10, 10], // 设置\n                  borderColor: \"white\",\n                  backgroundColor: \"#1e1e2c\", // 标签背景色\n                  position: \"bottom\",\n\n                  fontSize: 14,\n                  color: \"white\",\n                  // color: function (params) {\n                  //   // 自定义颜色函数\n                  //   var colorList = [];\n                  //   var data = params.data;\n                  //   for (var i = 0; i < data.length; i++) {\n                  //     if (i == 0) {\n                  //       colorList.push(\"blue\");\n                  //     } else {\n                  //       var diff = data[i] - data[i - 1];\n                  //       if (diff >= 0) {\n                  //         colorList.push(\"red\"); // 上升趋势设为红色\n                  //       } else {\n                  //         colorList.push(\"green\"); // 下降趋势设为绿色\n                  //       }\n                  //     }\n                  //   }\n                  //   return colorList;\n                  // },\n                  // color: [\"red\", \"green\", \"blue\", \"purple\", \"orange\", \"black\", \"grey\"]\n                },\n              },\n              symbol: \"emptyCircle\", // 空心圆作为转折点标志\n              symbolSize: 12, // 转折点标志大小\n              lineStyle: {\n                type: \"solid\", // 折线类型为实线\n              },\n              areaStyle: {\n                // 折线图区域填充样式\n                color: {\n                  type: \"linear\",\n                  x: 0,\n                  y: 0,\n                  x2: 0,\n                  y2: 1,\n                  colorStops: [\n                    {\n                      offset: 0,\n                      color: \"rgba(0, 255, 0, 0.3)\", // 折线图填充色的起始颜色和透明度\n                    },\n                    {\n                      offset: 1,\n                      color: \"rgba(0, 255, 0, 0)\", // 折线图填充色的结束颜色和透明度\n                    },\n                  ],\n                  globalCoord: false, // 缺省为 false\n                },\n              },\n            },\n          ],\n        },\n      };\n    },\n    methods: {\n      isDayLight() {\n        var currdate = new Date();\n        if (currdate.getHours() >= 18 || currdate.getHours() < 6) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n      // updateTitleData() {\n      //   let myChart = echarts.init(document.getElementById(\"EchartsShow\"));\n      //   // 更新标题数据\n      //   var sum = 0;\n      //   for (\n      //     let index = 0;\n      //     index < this.chartOptions.series[0].data.length;\n      //     index++\n      //   ) {\n      //     sum += this.chartOptions.series[0].data[index];\n      //   }\n      //   this.subtitle = `$ ${sum}`;\n      //   // 使用 setOption 方法重新渲染图表\n      //   if (this.isDayLight()) {\n      //     this.chartOptions.title.subtext = this.subtitle;\n      //     this.chartOptions.xAxis.axisLabel.color = \"#000000\";\n      //     this.chartOptions.title.subtextStyle.color = \"#000000\";\n      //   } else {\n      //     this.chartOptions.title.subtext = this.subtitle;\n      //     this.chartOptions.title.subtextStyle.color = \"#ffffff\";\n      //     this.chartOptions.xAxis.axisLabel.color = \"#ffffff\";\n      //   }\n      //   myChart.setOption(this.chartOptions);\n      // },\n      calculTotal(chart) {},\n      echartsChangTheme() {\n        echarts.dispose(document.getElementById(\"EchartsShow\"));\n        if (this.isOpen) {\n          var sum = 0;\n        for (\n          let index = 0;\n          index < this.chartOptions.series[0].data.length;\n          index++\n        ) {\n          sum += this.chartOptions.series[0].data[index];\n        }\n        this.title=`Balance`\n        this.subtitle = `$ ${sum}`;\n        }\n        let myChart = echarts.init(document.getElementById(\"EchartsShow\"));\n        if (this.$store.state.isDark) {\n          this.chartOptions.title.text = this.title;\n          this.chartOptions.title.subtext = this.subtitle;\n          this.chartOptions.title.subtextStyle.color = \"#000000\";\n          this.chartOptions.xAxis.axisLabel.color = \"#000000\";\n          \n        } else {\n          this.chartOptions.title.text = this.title;\n          this.chartOptions.title.subtext = this.subtitle;\n          this.chartOptions.title.subtextStyle.color = \"#ffffff\";\n          this.chartOptions.xAxis.axisLabel.color = \"#ffffff\";\n        }\n        myChart.setOption(this.chartOptions);\n      },\n    },\n  mounted() {\n    \n    this.$emit(\"echartsChangTheme\", this.echartsChangTheme);\n      this.$refs.EchartBox.addEventListener(\"click\", () => {\n        this.$refs.EchartBox.style.height = \"400px\";\n        setTimeout(() => {\n          this.isOpen=true\n          this.echartsChangTheme();\n         \n        }, 300);\n      });\n      this.$refs.EchartBox.addEventListener(\"dblclick\", () => {\n        this.$refs.EchartBox.style.height = \"100px\";\n        setTimeout(() => {\n          this.isOpen = false\n          this.subtitle = ''\n          this.title =''\n          this.echartsChangTheme();\n        }, 300);\n      });\n    },\n  };\n</script>\n\n<style lang=\"scss\" c>\n#EchartBox {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 93%;\n  height: 100px;\n  background-color: var(--White--);\n  border-radius: 40px;\n  box-shadow: var(--boxshdow-style--);\n  transition: all 0.3s ease-in-out;\n  overflow: hidden;\n  &:hover {\n    box-shadow: rgba(14, 30, 37, 0.12) 0px 2px 4px 0px,\n      rgba(14, 30, 37, 0.32) 0px 2px 16px 0px;\n    transition: all 0.3s ease-in-out;\n  }\n}\n#EchartsShow {\n  width: 100%;\n  height: 100%;\n}\n</style>"],"mappings":"AAQA,YAAAA,OAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA;MACAC,MAAA;MACAC,QAAA;MACAC,YAAA;QACAH,KAAA;UACAI,IAAA;UACAC,OAAA;UACAC,IAAA;UACAC,GAAA;UACAC,KAAA;UACAC,UAAA;UACAC,QAAA;UACAC,UAAA;UACAC,UAAA;UACAC,YAAA;YACAL,KAAA;YACAE,QAAA;YACAD,UAAA;YACAG,UAAA;YACAD,UAAA;UACA;QACA;QACAG,KAAA;UACAC,IAAA;UACAhB,IAAA;UACAiB,QAAA;YACAC,IAAA;UACA;UACAC,QAAA;YACAD,IAAA;UACA;UACAE,SAAA;YACAX,KAAA;YAAA;YACAE,QAAA,EAAAU,MAAA,CAAAC,WAAA;YACAZ,UAAA;UACA;UACAa,WAAA;QACA;;QACAC,KAAA;UACAN,IAAA;QACA;QACAO,MAAA,GACA;UACAT,IAAA;UACAU,MAAA;UACA1B,IAAA;UACA2B,SAAA;YACAlB,KAAA;YAAA;YACAmB,SAAA;cACAC,KAAA;cACA;YACA;UACA;;UACAC,QAAA;YACAH,SAAA;cACAlB,KAAA;YACA;YACAsB,KAAA;cACAb,IAAA;cAAA;cACA;cACAc,OAAA;cAAA;cACAC,SAAA;cAAA;cACApB,UAAA;cACAqB,YAAA;cAAA;cACAC,WAAA;cACAC,eAAA;cAAA;cACAC,QAAA;cAEA1B,QAAA;cACAF,KAAA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;UACA;;UACA6B,MAAA;UAAA;UACAC,UAAA;UAAA;UACAX,SAAA;YACAZ,IAAA;UACA;;UACAwB,SAAA;YACA;YACA/B,KAAA;cACAO,IAAA;cACAyB,CAAA;cACAC,CAAA;cACAC,EAAA;cACAC,EAAA;cACAC,UAAA,GACA;gBACAC,MAAA;gBACArC,KAAA;cACA,GACA;gBACAqC,MAAA;gBACArC,KAAA;cACA,EACA;;cACAsC,WAAA;YACA;UACA;QACA;MAEA;IACA;EACA;;EACAC,OAAA;IACAC,WAAA;MACA,IAAAC,QAAA,OAAAC,IAAA;MACA,IAAAD,QAAA,CAAAE,QAAA,YAAAF,QAAA,CAAAE,QAAA;QACA;MACA;QACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,YAAAC,KAAA;IACAC,kBAAA;MACAxD,OAAA,CAAAyD,OAAA,CAAAC,QAAA,CAAAC,cAAA;MACA,SAAAxD,MAAA;QACA,IAAAyD,GAAA;QACA,KACA,IAAAC,KAAA,MACAA,KAAA,QAAAxD,YAAA,CAAAqB,MAAA,IAAAzB,IAAA,CAAA6D,MAAA,EACAD,KAAA,IACA;UACAD,GAAA,SAAAvD,YAAA,CAAAqB,MAAA,IAAAzB,IAAA,CAAA4D,KAAA;QACA;QACA,KAAA3D,KAAA;QACA,KAAAE,QAAA,QAAAwD,GAAA;MACA;MACA,IAAAG,OAAA,GAAA/D,OAAA,CAAAgE,IAAA,CAAAN,QAAA,CAAAC,cAAA;MACA,SAAAM,MAAA,CAAAC,KAAA,CAAAC,MAAA;QACA,KAAA9D,YAAA,CAAAH,KAAA,CAAAI,IAAA,QAAAJ,KAAA;QACA,KAAAG,YAAA,CAAAH,KAAA,CAAAK,OAAA,QAAAH,QAAA;QACA,KAAAC,YAAA,CAAAH,KAAA,CAAAa,YAAA,CAAAL,KAAA;QACA,KAAAL,YAAA,CAAAW,KAAA,CAAAK,SAAA,CAAAX,KAAA;MAEA;QACA,KAAAL,YAAA,CAAAH,KAAA,CAAAI,IAAA,QAAAJ,KAAA;QACA,KAAAG,YAAA,CAAAH,KAAA,CAAAK,OAAA,QAAAH,QAAA;QACA,KAAAC,YAAA,CAAAH,KAAA,CAAAa,YAAA,CAAAL,KAAA;QACA,KAAAL,YAAA,CAAAW,KAAA,CAAAK,SAAA,CAAAX,KAAA;MACA;MACAqD,OAAA,CAAAK,SAAA,MAAA/D,YAAA;IACA;EACA;EACAgE,QAAA;IAEA,KAAAC,KAAA,2BAAAd,iBAAA;IACA,KAAAe,KAAA,CAAAC,SAAA,CAAAC,gBAAA;MACA,KAAAF,KAAA,CAAAC,SAAA,CAAAE,KAAA,CAAAC,MAAA;MACAC,UAAA;QACA,KAAAzE,MAAA;QACA,KAAAqD,iBAAA;MAEA;IACA;IACA,KAAAe,KAAA,CAAAC,SAAA,CAAAC,gBAAA;MACA,KAAAF,KAAA,CAAAC,SAAA,CAAAE,KAAA,CAAAC,MAAA;MACAC,UAAA;QACA,KAAAzE,MAAA;QACA,KAAAC,QAAA;QACA,KAAAF,KAAA;QACA,KAAAsD,iBAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}