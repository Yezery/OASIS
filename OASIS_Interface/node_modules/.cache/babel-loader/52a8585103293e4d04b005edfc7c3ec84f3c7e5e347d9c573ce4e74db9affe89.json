{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getOnSaleNFTByNFTAddress } from \"@/api/axios/Sale\";\nimport { getSeriesByNFTAddress } from \"@/api/axios/ownerContractLIst\";\nimport { getNFTStruct, Buy } from \"@/api/axios/contract\";\nexport default {\n  data() {\n    return {\n      NFTInf: null,\n      NFTMetaData: null,\n      NFTContract: null,\n      NFTContractAddress: null,\n      NFTSaleId: 0,\n      NFTTokenId: 0,\n      NFTPrice: 0,\n      NFTSeller: \"\",\n      NFTIsActive: false,\n      NFTImage: \"\",\n      NFTName: \"\",\n      supplyer: \"\",\n      symbol: null,\n      NFTSeries: \"\",\n      description: \"\",\n      maxmums: 0,\n      currentId: 0,\n      activeTab: \"first\",\n      onSaleNFTList: [],\n      seriesNFTList: [],\n      sale: {},\n      bought: false,\n      MessageShow: false,\n      changeNFT: {},\n      opt: 0,\n      isChanging: false,\n      imgHeight: \"\",\n      bgHeight: \"\"\n    };\n  },\n  watch: {},\n  mounted() {\n    this.init();\n    // ÁõëÂê¨Á™óÂè£ÂèòÂåñÔºå‰ΩøÂæóËΩÆÊí≠ÂõæÈ´òÂ∫¶Ëá™ÈÄÇÂ∫îÂõæÁâáÈ´òÂ∫¶\n    window.addEventListener(\"resize\", () => {\n      this.imgHeight = String(window.innerWidth / 12);\n      this.bgHeight = String(window.innerHeight / 80);\n      console.log(this.bgHeight);\n    });\n  },\n  methods: {\n    async init() {\n      try {\n        this.NFTInf = this.$store.state.NFTInf;\n        console.log(this.NFTInf);\n        this.NFTImage = JSON.parse(this.NFTInf.tokenURI).image;\n        this.NFTContractAddress = this.NFTInf.nftContract;\n        this.NFTSaleId = this.NFTInf.saleId;\n        this.NFTSeller = this.NFTInf.seller;\n        this.NFTTokenId = this.NFTInf.tokenId;\n        this.NFTPrice = this.NFTInf.price;\n        this.NFTName = JSON.parse(this.NFTInf.tokenURI).name;\n        this.NFTIsActive = this.NFTInf.isActive;\n        this.supplyer = `${this.NFTInf.seller.slice(0, 5)}...${this.NFTInf.seller.slice(37)}`;\n        this.description = this.NFTInf.description;\n        this.NFTSeries = this.NFTInf.seriesName;\n        this.maxmums = this.NFTInf.maxmums;\n        this.symbol = this.NFTInf.symbol;\n        await this.getSeriesByNFTAddress();\n        await getNFTStruct(this.NFTContractAddress).then(re => {\n          this.NFTContract = re;\n        });\n        await this.NFTContract.methods._currentId().call().then(re => {\n          this.currentId = re;\n        });\n        await this.NFTContract.methods.symbol().call().then(re => {\n          this.symbol = re;\n        });\n        await this.NFTContract.methods.name().call().then(re => {\n          this.NFTSeries = re;\n        });\n        await this.NFTContract.methods._maximums().call().then(re => {\n          this.maxmums = re;\n        });\n        this.makeSale();\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    OpenMessageBox(NFT) {\n      // this.changeNFT = NFT;\n      console.log(NFT);\n      // this.MessageShow = true;\n    },\n\n    CloseMessageBox(opt) {\n      this.MessageShow = false;\n      this.changeNFT = {};\n      if (opt == 1) {\n        this.$notify({\n          title: `ÊÇ®Â∑≤ÂèñÊ∂àË¥≠‰π∞`,\n          type: \"warning\",\n          position: \"top-left\",\n          offset: 200\n        });\n      }\n    },\n    makeSale() {\n      this.sale = {\n        isActive: true,\n        nftAddress: this.NFTContractAddress,\n        price: this.$store.state.Web3.utils.fromWei(this.NFTPrice, \"ether\"),\n        saleId: Number(this.NFTSaleId),\n        ownerAddress: this.NFTSeller,\n        tokenId: Number(this.NFTTokenId)\n      };\n    },\n    async getOnSaleNFT() {\n      var NFTDto = {\n        nftAddress: this.NFTContractAddress\n      };\n      await getOnSaleNFTByNFTAddress(NFTDto).then(re => {\n        this.onSaleNFTList = re.data.data;\n        console.log(re);\n      });\n    },\n    async getSeriesByNFTAddress() {\n      var NFTDto = {\n        nftAddress: this.NFTContractAddress\n      };\n      await getSeriesByNFTAddress(NFTDto).then(re => {\n        this.seriesNFTList = re.data.data;\n        console.log(re);\n      });\n    },\n    async Buy() {\n      try {\n        this.changeNFT.symbol = this.symbol;\n        this.changeNFT.image = this.NFTImage;\n        let isSuccess = false;\n        this.isChanging = true;\n        await Buy(this.changeNFT).then(re => {\n          isSuccess = re;\n        });\n        if (isSuccess) {\n          this.isChanging = false;\n          this.$notify({\n            title: \"üíñ ÊÑüË∞¢Ë¥≠‰π∞\",\n            type: \"success\",\n            position: \"top-left\",\n            offset: 200\n          });\n          this.bought = true;\n          this.CloseMessageBox(2);\n        } else {\n          this.isChanging = false;\n          this.$notify({\n            title: \"ÊÇ®Â∑≤ÂèñÊ∂àË¥≠‰π∞\",\n            type: \"warning\",\n            position: \"top-left\",\n            offset: 200\n          });\n          this.CloseMessageBox(2);\n        }\n      } catch (error) {\n        this.isChanging = false;\n        this.$notify.error({\n          title: \"Ë¥≠‰π∞Â§±Ë¥•\",\n          position: \"top-left\",\n          offset: 200\n        });\n      }\n    },\n    toMarketMain() {\n      this.$router.push(\"/\");\n      this.$store.commit(\"setIsSearch\", false);\n    }\n  }\n};","map":{"version":3,"names":["getOnSaleNFTByNFTAddress","getSeriesByNFTAddress","getNFTStruct","Buy","data","NFTInf","NFTMetaData","NFTContract","NFTContractAddress","NFTSaleId","NFTTokenId","NFTPrice","NFTSeller","NFTIsActive","NFTImage","NFTName","supplyer","symbol","NFTSeries","description","maxmums","currentId","activeTab","onSaleNFTList","seriesNFTList","sale","bought","MessageShow","changeNFT","opt","isChanging","imgHeight","bgHeight","watch","mounted","init","window","addEventListener","String","innerWidth","innerHeight","console","log","methods","$store","state","JSON","parse","tokenURI","image","nftContract","saleId","seller","tokenId","price","name","isActive","slice","seriesName","then","re","_currentId","call","_maximums","makeSale","error","OpenMessageBox","NFT","CloseMessageBox","$notify","title","type","position","offset","nftAddress","Web3","utils","fromWei","Number","ownerAddress","getOnSaleNFT","NFTDto","isSuccess","toMarketMain","$router","push","commit"],"sources":["src/components/infPage/NFTInf.vue"],"sourcesContent":["<template>\n  <div class=\"NFTInfMainBox animate__animated animate__fadeInRight\" v-loading.fullscreen.lock=\"isChanging\" element-loading-text=\"‰∫§ÊòìËøõË°å‰∏≠\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.8)\">\n    <el-carousel indicator-position=\"none\" arrow=\"never\" :height=\"bgHeight\">\n      <el-carousel-item v-for=\"image in onSaleNFTList\" :key=\"image.ipfsPath\">\n        <div class=\"NFTInfMain_Bg\" :style=\"{ backgroundImage: `url('${encodeURI(image.ipfsPath)}')`}\" />\n      </el-carousel-item>\n    </el-carousel>\n\n    <div class=\"NFTInfMain_Avatar\">\n      <el-carousel class=\"NFTInfMain_AvatarBorder\" indicator-position=\"none\" arrow=\"never\" :height=\"imgHeight\">\n        <el-carousel-item v-for=\"image in onSaleNFTList\" :key=\"image.ipfsPath\">\n          <img style=\"width: 100%; object-fit: contain;\" :src=\"image.ipfsPath\">\n        </el-carousel-item>\n      </el-carousel>\n    </div>\n    <div class=\"NFTInfMain_Top\">\n      <div class=\"NFTInfMain_Top_Inf\">\n        <div class=\"NFTName\">\n          {{ NFTName }}\n        </div>\n        <div class=\"NFTContract\">\n          <div class=\"NFTSupplyer\">\n            Áî± <span style=\"font-weight: 800;font-size:16px;\">{{ supplyer }}</span>\n          </div>\n          <div class=\"NFTInf\">\n            <div class=\"NFTCounts\">\n              Á≥ªÂàó<span style=\"font-weight: 800;\">{{ NFTSeries }}</span> ¬∑\n              ‰ª£Â∏ÅÁ¨¶Âè∑<span style=\"font-weight: 800;\">{{ symbol }}</span> ¬∑\n              ÈôêÈáèÈì∏ÈÄ†<span style=\"font-weight: 800;\">{{ maxmums }}</span> ¬∑\n              ÁõÆÂâçÂ∑≤Èì∏ÈÄ†Êï∞Èáè<span style=\"font-weight: 800;\">{{ currentId }}</span>\n            </div>\n            <div class=\"NFTdescription\">\n              {{ description }}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"NFTInfMain_Bootom\">\n      <div class=\"selectBox\">\n        <div class=\"selectBox-Button\">\n          <el-tabs v-model=\"activeTab\">\n            <el-tab-pane label=\"Ê≠£Âú®ÂîÆÂçñ\" name=\"first\">\n              <div class=\"SeriesNFT\">\n                <div style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 15px;\" v-if=\"onSaleNFTList.filter(inf => inf.isActive).length == 0\">\n                  <el-empty description=\"Êó†Âú®ÂîÆ\" />\n                </div>\n                <template v-for=\"inf in onSaleNFTList.filter(inf => inf.isActive)\">\n                  <div class=\"NFTInf\" :key=\"inf.image\">\n                    <div class=\"imageBox\">\n                      <img class=\"NFTImage\" :src=\"inf.ipfsPath\" alt=\"\">\n                    </div>\n                    <div class=\"Inf\">\n                      <div class=\"NFTName\">\n                        {{ inf.nftName }}\n                      </div>\n                      <div class=\"ownerAndToSell\">\n                        <div class=\"ToSellBox\">\n                          #{{ inf.tokenId }}\n                        </div>\n                        <div style=\"margin-left: 2%;\">\n                          <span style=\"font-weight: 800;font-size: 25px;\">{{ $store.state.Web3.utils.fromWei(inf.price, 'ether') }} </span> ETH\n                        </div>\n\n                      </div>\n                    </div>\n                    <div  class=\"SellBox\" @click=\"OpenMessageBox(inf, opt)\" v-if=\"!$store.state.isconnect || NFTSeller.toUpperCase() == $store.state.currentAddress.toUpperCase() || bought || !NFTIsActive\">\n                        {{ bought?\"Bought\":\"Buy now\" }}\n                    </div>\n                  </div>\n\n                </template>\n              </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"ÊöÇÊú™ÂèëÂîÆ\" name=\"second\">\n              <div class=\"SeriesNFT\">\n                <div style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 15px;\" v-if=\"onSaleNFTList.filter(inf => !inf.isActive).length == 0\">\n                  <el-empty description=\"Êó†Êï∞ÊçÆ\" />\n                </div>\n                <template v-else>\n                  <div class=\"NFTInf\" v-for=\"inf in onSaleNFTList.filter(inf => !inf.isActive)\" :key=\"inf.image\">\n\n                    <div class=\"imageBox\">\n                      <img class=\"NFTImage\" :src=\"inf.image\" alt=\"\">\n                    </div>\n                    <div class=\"Inf\">\n                      <div class=\"NFTName\">\n                        {{ inf.name }}\n                      </div>\n                      <div class=\"ownerAndToSell\">\n                        <div class=\"ToSellBox\" />\n                      </div>\n                    </div>\n                  </div>\n                </template>\n              </div>\n            </el-tab-pane>\n            <el-tab-pane label=\"Á≥ªÂàóNFT\" name=\"third\">\n              <div class=\"SeriesNFT\">\n                <div style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 15px;\" v-if=\"onSaleNFTList.length == 0\">\n                  <el-empty description=\"Êó†Êï∞ÊçÆ\" />\n                </div>\n                <div class=\"NFTInf\" v-for=\"inf in seriesNFTList\" :key=\"inf.image\">\n                  <div class=\"imageBox\">\n                    <img class=\"NFTImage\" :src=\"inf.ipfsPath\" alt=\"\">\n                  </div>\n                  <div class=\"Inf\">\n                    <div class=\"NFTName\">\n                      {{ inf.nftName }}\n                    </div>\n                    <div class=\"ownerAndToSell\">\n                      <div class=\"ToSellBox\">\n                        #{{ inf.tokenId }}\n                      </div>\n                      <div style=\"margin-left: 2%;\">\n                        <span style=\"font-weight: 800;font-size:15px;\">{{ $store.state.Web3.utils.fromWei(inf.price, 'ether') }} </span> ETH\n                      </div>\n\n                    </div>\n                  </div>\n\n                </div>\n              </div>\n            </el-tab-pane>\n          </el-tabs>\n        </div>\n      </div>\n    </div>\n    <!-- <div\n      class=\"NFTInfMain_Top_bg\"\n      :style=\"{ backgroundImage: `url('${encodeURI(NFTImage)}')`}\"\n    >\n      <div class=\"NFTInfMain_Top\">\n        <div class=\"NFTInfMain_Top_Avatar\">\n          <div class=\"AvatarBox\">\n            <img\n              :src=\"NFTImage\"\n              alt=\"\"\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"NFTInfMain_Bottom\">\n      <div class=\"Inf\">\n        <div class=\"NFTName\">\n          <h1>{{ NFTName }}</h1>\n        </div>\n        <div class=\"NFTContract\">\n          <div class=\"NFTSupplyer\">\n            Áî± <span style=\"font-weight: 800;font-size: 1.2vw;\">{{ supplyer }}</span>\n          </div>\n          <div class=\"NFTInf\">\n            <div class=\"NFTCounts\">\n              Á≥ªÂàó<span style=\"font-weight: 800;\">{{ NFTSeries }}</span> ¬∑\n              ‰ª£Â∏ÅÁ¨¶Âè∑<span style=\"font-weight: 800;\">{{ symbol }}</span> ¬∑\n              ÈôêÈáèÈì∏ÈÄ†<span style=\"font-weight: 800;\">{{ maxmums }}</span> ¬∑\n              ÁõÆÂâçÂ∑≤Èì∏ÈÄ†Êï∞Èáè<span style=\"font-weight: 800;\">{{ currentId }}</span>\n            </div>\n            <div class=\"NFTdescription\">\n              {{ description }}\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"selectBox\">\n        <el-tabs v-model=\"activeTab\">\n          <el-tab-pane\n            label=\"Ê≠£Âú®ÂîÆÂçñ\"\n            name=\"first\"\n          >\n            <div class=\"SeriesNFT\">\n              <div\n                style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 1vw;\"\n                v-if=\"onSaleNFTList.filter(inf => inf.isActive && inf.ipfsPath !== NFTImage).length == 0\"\n              >\n                <el-empty description=\"Êó†Âú®ÂîÆ\" />\n              </div>\n              <div\n                class=\"NFTInf\"\n                v-for=\"inf in onSaleNFTList.filter(inf => inf.isActive && inf.ipfsPath !== NFTImage)\"\n                :key=\"inf.image\"\n              >\n                <div class=\"imageBox\">\n                  <img\n                    class=\"NFTImage\"\n                    :src=\"inf.ipfsPath\"\n                    alt=\"\"\n                  >\n                </div>\n                <div class=\"Inf\">\n                  <div class=\"NFTName\">\n                    {{ inf.nftName }}\n                  </div>\n                  <div class=\"ownerAndToSell\">\n                    <div class=\"ToSellBox\">\n                      #{{ inf.tokenId }}\n                    </div>\n                    <div style=\"margin-left: 2%;\">\n                      <span style=\"font-weight: 800;font-size: 2vw;\">{{ $store.state.Web3.utils.fromWei(inf.price, 'ether') }} </span> ETH\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n          <el-tab-pane\n            label=\"ÊöÇÊú™ÂèëÂîÆ\"\n            name=\"second\"\n          >\n            <div class=\"SeriesNFT\">\n              <div\n                style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 1vw;\"\n                v-if=\"onSaleNFTList.filter(inf => !inf.isActive).length == 0\"\n              >\n                <el-empty description=\"Êó†Êï∞ÊçÆ\" />\n              </div>\n              <template v-else>\n                <div\n                  class=\"NFTInf\"\n                  v-for=\"inf in onSaleNFTList.filter(inf => !inf.isActive)\"\n                  :key=\"inf.image\"\n                >\n                  <div class=\"imageBox\">\n                    <img\n                      class=\"NFTImage\"\n                      :src=\"inf.image\"\n                      alt=\"\"\n                    >\n                  </div>\n                  <div class=\"Inf\">\n                    <div class=\"NFTName\">\n                      {{ inf.name }}\n                    </div>\n                    <div class=\"ownerAndToSell\">\n                      <div class=\"ToSellBox\" />\n                    </div>\n                  </div>\n                </div>\n              </template>\n            </div>\n          </el-tab-pane>\n          <el-tab-pane\n            label=\"Á≥ªÂàóNFT\"\n            name=\"third\"\n          >\n            <div class=\"SeriesNFT\">\n              <div\n                style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 1vw;\"\n                v-if=\"onSaleNFTList.length == 0\"\n              >\n                <el-empty description=\"Êó†Êï∞ÊçÆ\" />\n              </div>\n              <div\n                class=\"NFTInf\"\n                v-for=\"inf in onSaleNFTList\"\n                :key=\"inf.image\"\n              >\n                <div class=\"imageBox\">\n                  <img\n                    class=\"NFTImage\"\n                    :src=\"inf.ipfsPath\"\n                    alt=\"\"\n                  >\n                </div>\n                <div class=\"Inf\">\n                  <div class=\"NFTName\">\n                    {{ inf.nftName }}\n                  </div>\n                  <div class=\"ownerAndToSell\">\n                    <div class=\"ToSellBox\">\n                      #{{ inf.tokenId }}\n                    </div>\n                    <div style=\"margin-left: 2%;\">\n                      <span style=\"font-weight: 800;font-size: 2vw;\">{{ $store.state.Web3.utils.fromWei(inf.price, 'ether') }} </span> ETH\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div> -->\n    <!-- <div class=\"NFTInfMain\">\n        <div class=\"backHome\">\n        <router-link to=\"/\"><el-button icon=\"el-icon-back\" circle /></router-link>\n      </div>\n      <div class=\"NFTInfContextBox\">\n        <div class=\"NFTInfBox\">\n          <div class=\"AvatarBox\">\n            <div class=\"AvatarBorder\">\n              <img\n                :src=\"NFTImage\"\n                alt=\"\"\n              >\n            </div>\n\n            <div class=\"Inf\">\n              <div class=\"NFTName\">\n                <h1>{{ NFTName }}</h1>\n              </div>\n              <div class=\"NFTContract\">\n                <div class=\"NFTSupplyer\">\n                  Áî± <span style=\"font-weight: 800;font-size: 1.2vw;\">{{ supplyer }}</span>\n                </div>\n                <div class=\"NFTInf\">\n                  <div class=\"NFTCounts\">\n                    Á≥ªÂàó<span style=\"font-weight: 800;\">{{ NFTSeries }}</span> ¬∑\n                    ‰ª£Â∏ÅÁ¨¶Âè∑<span style=\"font-weight: 800;\">{{ symbol }}</span> ¬∑\n                    ÈôêÈáèÈì∏ÈÄ†<span style=\"font-weight: 800;\">{{ maxmums }}</span> ¬∑\n                    ÁõÆÂâçÂ∑≤Èì∏ÈÄ†Êï∞Èáè<span style=\"font-weight: 800;\">{{ currentId }}</span>\n                  </div>\n                  <div class=\"NFTdescription\">\n                    {{ description }}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"selectBox\">\n          <div class=\"selectBox-Button\">\n            <el-tabs v-model=\"activeTab\">\n              <el-tab-pane\n                label=\"Ê≠£Âú®ÂîÆÂçñ\"\n                name=\"first\"\n              >\n                <div class=\"SeriesNFT\">\n                  <div\n                    style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 1vw;\"\n                    v-if=\"onSaleNFTList.filter(inf => inf.isActive && inf.ipfsPath !== NFTImage).length == 0\"\n                  >\n                    <el-empty description=\"Êó†Âú®ÂîÆ\" />\n                  </div>\n                  <div\n                    class=\"NFTInf\"\n                    v-for=\"inf in onSaleNFTList.filter(inf => inf.isActive && inf.ipfsPath !== NFTImage)\"\n                    :key=\"inf.image\"\n                  >\n                    <div class=\"imageBox\">\n                      <img\n                        class=\"NFTImage\"\n                        :src=\"inf.ipfsPath\"\n                        alt=\"\"\n                      >\n                    </div>\n                    <div class=\"Inf\">\n                      <div class=\"NFTName\">\n                        {{ inf.nftName }}\n                      </div>\n                      <div class=\"ownerAndToSell\">\n                        <div class=\"ToSellBox\">\n                          #{{ inf.tokenId }}\n                        </div>\n                        <div style=\"margin-left: 2%;\">\n                          <span style=\"font-weight: 800;font-size: 2vw;\">{{ $store.state.Web3.utils.fromWei(inf.price, 'ether') }} </span> ETH\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </el-tab-pane>\n              <el-tab-pane\n                label=\"ÊöÇÊú™ÂèëÂîÆ\"\n                name=\"second\"\n              >\n                <div class=\"SeriesNFT\">\n                  <div\n                    style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 1vw;\"\n                    v-if=\"onSaleNFTList.filter(inf => !inf.isActive).length == 0\"\n                  >\n                    <el-empty description=\"Êó†Êï∞ÊçÆ\" />\n                  </div>\n                  <template v-else>\n                    <div\n                      class=\"NFTInf\"\n                      v-for=\"inf in onSaleNFTList.filter(inf => !inf.isActive)\"\n                      :key=\"inf.image\"\n                    >\n                      <div class=\"imageBox\">\n                        <img\n                          class=\"NFTImage\"\n                          :src=\"inf.image\"\n                          alt=\"\"\n                        >\n                      </div>\n                      <div class=\"Inf\">\n                        <div class=\"NFTName\">\n                          {{ inf.name }}\n                        </div>\n                        <div class=\"ownerAndToSell\">\n                          <div class=\"ToSellBox\" />\n                        </div>\n                      </div>\n                    </div>\n                  </template>\n                </div>\n              </el-tab-pane>\n              <el-tab-pane\n                label=\"Á≥ªÂàóNFT\"\n                name=\"third\"\n              >\n                <div class=\"SeriesNFT\">\n                  <div\n                    style=\"margin-top: 10%;margin-bottom: 10%;font-weight: 800;font-size: 1vw;\"\n                    v-if=\"onSaleNFTList.length == 0\"\n                  >\n                    <el-empty description=\"Êó†Êï∞ÊçÆ\" />\n                  </div>\n                  <div\n                    class=\"NFTInf\"\n                    v-for=\"inf in onSaleNFTList\"\n                    :key=\"inf.image\"\n                  >\n                    <div class=\"imageBox\">\n                      <img\n                        class=\"NFTImage\"\n                        :src=\"inf.ipfsPath\"\n                        alt=\"\"\n                      >\n                    </div>\n                    <div class=\"Inf\">\n                      <div class=\"NFTName\">\n                        {{ inf.nftName }}\n                      </div>\n                      <div class=\"ownerAndToSell\">\n                        <div class=\"ToSellBox\">\n                          #{{ inf.tokenId }}\n                        </div>\n                        <div style=\"margin-left: 2%;\">\n                          <span style=\"font-weight: 800;font-size: 2vw;\">{{ $store.state.Web3.utils.fromWei(inf.price, 'ether') }} </span> ETH\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </el-tab-pane>\n            </el-tabs>\n          </div>\n        </div>\n      </div>\n    </div> -->\n    <!-- <div class=\"footbox\">\n    <el-button\n            type=\"success\"\n            plain\n            class=\"Buy\"\n            @click=\"OpenMessageBox(sale, opt)\"\n            :disabled=\"!$store.state.isconnect || NFTSeller.toUpperCase() == $store.state.currentAddress.toUpperCase() || bought || !NFTIsActive\"\n          >\n            {{ bought?\"Â∑≤Ë¥≠ÂÖ•\":\"Ë¥≠ÂÖ•\" }}\n          </el-button>\n  </div> -->\n    <div class=\"MessageMask\" v-if=\"MessageShow\">\n      <div class=\"Message animate__animated animate__fadeInUp\">\n        <div class=\"MessageLeft\">\n          <div class=\"imageBox\">\n            <img :src=\"NFTImage\" alt=\"\">\n          </div>\n        </div>\n        <div class=\"MessageRight\">\n          <div class=\"select\">\n            <div class=\"tipsBox\">\n              <div class=\"tipsTitle\">\n                Á≥ªÂàóÂêç <span class=\"tipshelp\">Series Name</span>\n              </div>\n              <div class=\"tipsTitle2\">\n                {{ NFTSeries }}\n              </div>\n            </div>\n          </div>\n          <div class=\"select\">\n            <div class=\"tipsBox\">\n              <div class=\"tipsTitle\">\n                ‰ª£Â∏ÅÁ¨¶Âè∑ <span class=\"tipshelp\">Symbol</span>\n              </div>\n              <div class=\"tipsTitle2\">\n                {{ symbol }}\n              </div>\n            </div>\n          </div>\n          <div class=\"select\">\n            <div class=\"tipsBox\">\n              <div class=\"tipsTitle\">\n                ÂêçÁß∞ <span class=\"tipshelp\">NFT Name</span>\n              </div>\n              <div class=\"tipsTitle2\">\n                {{ NFTName }}\n              </div>\n            </div>\n          </div>\n          <div class=\"select\">\n            <div class=\"tipsBox\">\n              <div class=\"tipsTitle\">\n                Â∫èÂè∑ <span class=\"tipshelp\">Token ID</span>\n              </div>\n              <div class=\"tipsTitle2\">\n                #{{ NFTTokenId }}\n              </div>\n            </div>\n          </div>\n          <div class=\"select\">\n            <div class=\"tipsBox\">\n              <div class=\"tipsTitle2\">\n                <el-divider />\n              </div>\n            </div>\n          </div>\n          <div class=\"select\">\n            <div class=\"tipsBox\">\n              <div class=\"tipsTitle\">\n                ‰ª∑Ê†º <span class=\"tipshelp\">Price</span>\n              </div>\n              <div class=\"tipsTitle2\">\n                <span style=\"font-size: 30px;\"> {{ $store.state.Web3.utils.fromWei(NFTPrice, 'ether') }} </span>ETH\n              </div>\n            </div>\n          </div>\n          <div class=\"select\">\n            <div class=\"sumbitBox\">\n              <el-button @click=\"CloseMessageBox(1)\" class=\"createButton\" type=\"primary\" plain>\n                ÂèñÊ∂à\n              </el-button>\n              <el-button @click=\"Buy\" class=\"createButton\" type=\"success\" plain>\n                Ë¥≠‰π∞\n              </el-button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { getOnSaleNFTByNFTAddress } from \"@/api/axios/Sale\";\n  import {getSeriesByNFTAddress}from \"@/api/axios/ownerContractLIst\"\n  import { getNFTStruct, Buy } from \"@/api/axios/contract\";\n  export default {\n    data() {\n      return {\n        NFTInf: null,\n        NFTMetaData: null,\n        NFTContract: null,\n        NFTContractAddress: null,\n        NFTSaleId: 0,\n        NFTTokenId: 0,\n        NFTPrice: 0,\n        NFTSeller: \"\",\n        NFTIsActive: false,\n        NFTImage: \"\",\n        NFTName: \"\",\n\n        supplyer: \"\",\n        symbol: null,\n        NFTSeries: \"\",\n        description: \"\",\n        maxmums: 0,\n        currentId: 0,\n        activeTab: \"first\",\n        onSaleNFTList: [],\n        seriesNFTList:[],\n        sale: {},\n        bought: false,\n\n        MessageShow: false,\n        changeNFT: {},\n        opt: 0,\n        isChanging: false,\n        imgHeight: \"\",\n        bgHeight: \"\",\n      };\n    },\n    watch: {},\n    mounted() {\n      this.init();\n      // ÁõëÂê¨Á™óÂè£ÂèòÂåñÔºå‰ΩøÂæóËΩÆÊí≠ÂõæÈ´òÂ∫¶Ëá™ÈÄÇÂ∫îÂõæÁâáÈ´òÂ∫¶\n      window.addEventListener(\"resize\", () => {\n        this.imgHeight = String(window.innerWidth / 12);\n        this.bgHeight = String(window.innerHeight / 80);\n        console.log(this.bgHeight);\n      });\n    },\n    methods: {\n      async init() {\n        try {\n          this.NFTInf = this.$store.state.NFTInf;\n          console.log(this.NFTInf);\n          this.NFTImage = JSON.parse(this.NFTInf.tokenURI).image;\n          this.NFTContractAddress = this.NFTInf.nftContract;\n          this.NFTSaleId = this.NFTInf.saleId;\n          this.NFTSeller = this.NFTInf.seller;\n          this.NFTTokenId = this.NFTInf.tokenId;\n          this.NFTPrice = this.NFTInf.price;\n          this.NFTName = JSON.parse(this.NFTInf.tokenURI).name;\n          this.NFTIsActive = this.NFTInf.isActive;\n          this.supplyer = `${this.NFTInf.seller.slice(\n            0,\n            5\n          )}...${this.NFTInf.seller.slice(37)}`;\n          this.description = this.NFTInf.description;\n          this.NFTSeries = this.NFTInf.seriesName;\n          this.maxmums = this.NFTInf.maxmums;\n          this.symbol = this.NFTInf.symbol;\n          await this.getSeriesByNFTAddress();\n          await getNFTStruct(this.NFTContractAddress).then((re) => {\n            this.NFTContract = re;\n          });\n          await this.NFTContract.methods\n            ._currentId()\n            .call()\n            .then((re) => {\n              this.currentId = re;\n            });\n          await this.NFTContract.methods\n            .symbol()\n            .call()\n            .then((re) => {\n              this.symbol = re;\n            });\n          await this.NFTContract.methods\n            .name()\n            .call()\n            .then((re) => {\n              this.NFTSeries = re;\n            });\n          await this.NFTContract.methods\n            ._maximums()\n            .call()\n            .then((re) => {\n              this.maxmums = re;\n            });\n          this.makeSale();\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      OpenMessageBox(NFT) {\n        // this.changeNFT = NFT;\n        console.log(NFT);\n        // this.MessageShow = true;\n      },\n      CloseMessageBox(opt) {\n        this.MessageShow = false;\n        this.changeNFT = {};\n        if (opt == 1) {\n          this.$notify({\n            title: `ÊÇ®Â∑≤ÂèñÊ∂àË¥≠‰π∞`,\n            type: \"warning\",\n            position: \"top-left\",\n            offset: 200,\n          });\n        }\n      },\n      makeSale() {\n        this.sale = {\n          isActive: true,\n          nftAddress: this.NFTContractAddress,\n          price: this.$store.state.Web3.utils.fromWei(this.NFTPrice, \"ether\"),\n          saleId: Number(this.NFTSaleId),\n          ownerAddress: this.NFTSeller,\n          tokenId: Number(this.NFTTokenId),\n        };\n      },\n      async getOnSaleNFT() {\n        var NFTDto = {\n          nftAddress: this.NFTContractAddress,\n        };\n        await getOnSaleNFTByNFTAddress(NFTDto).then((re) => {\n          this.onSaleNFTList = re.data.data;\n          console.log(re);\n        });\n      },\n      async getSeriesByNFTAddress() {\n        var NFTDto = {\n          nftAddress: this.NFTContractAddress,\n        };\n        await getSeriesByNFTAddress(NFTDto).then((re) => {\n          this.seriesNFTList = re.data.data;\n          console.log(re);\n        });\n      },\n      async Buy() {\n        try {\n          this.changeNFT.symbol = this.symbol;\n          this.changeNFT.image = this.NFTImage;\n          let isSuccess = false;\n          this.isChanging = true;\n          await Buy(this.changeNFT).then((re) => {\n            isSuccess = re;\n          });\n          if (isSuccess) {\n            this.isChanging = false;\n            this.$notify({\n              title: \"üíñ ÊÑüË∞¢Ë¥≠‰π∞\",\n              type: \"success\",\n              position: \"top-left\",\n              offset: 200,\n            });\n            this.bought = true;\n            this.CloseMessageBox(2);\n          } else {\n            this.isChanging = false;\n            this.$notify({\n              title: \"ÊÇ®Â∑≤ÂèñÊ∂àË¥≠‰π∞\",\n              type: \"warning\",\n              position: \"top-left\",\n              offset: 200,\n            });\n            this.CloseMessageBox(2);\n          }\n        } catch (error) {\n          this.isChanging = false;\n          this.$notify.error({\n            title: \"Ë¥≠‰π∞Â§±Ë¥•\",\n            position: \"top-left\",\n            offset: 200,\n          });\n        }\n      },\n      toMarketMain() {\n        this.$router.push(\"/\");\n        this.$store.commit(\"setIsSearch\", false);\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/style/components/NFTInf.scss\";\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}