{"ast":null,"code":"'use strict';\n\nvar util = require('util');\nvar Stream = require('stream');\nvar constants = require('./constants');\nvar Packer = require('./packer');\nvar PackerAsync = module.exports = function (opt) {\n  Stream.call(this);\n  var options = opt || {};\n  this._packer = new Packer(options);\n  this._deflate = this._packer.createDeflate();\n  this.readable = true;\n};\nutil.inherits(PackerAsync, Stream);\nPackerAsync.prototype.pack = function (data, width, height, gamma) {\n  // Signature\n  this.emit('data', new Buffer(constants.PNG_SIGNATURE));\n  this.emit('data', this._packer.packIHDR(width, height));\n  if (gamma) {\n    this.emit('data', this._packer.packGAMA(gamma));\n  }\n  var filteredData = this._packer.filterData(data, width, height);\n\n  // compress it\n  this._deflate.on('error', this.emit.bind(this, 'error'));\n  this._deflate.on('data', function (compressedData) {\n    this.emit('data', this._packer.packIDAT(compressedData));\n  }.bind(this));\n  this._deflate.on('end', function () {\n    this.emit('data', this._packer.packIEND());\n    this.emit('end');\n  }.bind(this));\n  this._deflate.end(filteredData);\n};","map":{"version":3,"names":["util","require","Stream","constants","Packer","PackerAsync","module","exports","opt","call","options","_packer","_deflate","createDeflate","readable","inherits","prototype","pack","data","width","height","gamma","emit","Buffer","PNG_SIGNATURE","packIHDR","packGAMA","filteredData","filterData","on","bind","compressedData","packIDAT","packIEND","end"],"sources":["/Users/yezery/Desktop/OASIS/OASIS_Interface/node_modules/.store/pngjs-nozlib@1.0.0/node_modules/pngjs-nozlib/lib/packer-async.js"],"sourcesContent":["'use strict';\n\nvar util = require('util');\nvar Stream = require('stream');\nvar constants = require('./constants');\nvar Packer = require('./packer');\n\nvar PackerAsync = module.exports = function(opt) {\n  Stream.call(this);\n\n  var options = opt || {};\n\n  this._packer = new Packer(options);\n  this._deflate = this._packer.createDeflate();\n\n  this.readable = true;\n};\nutil.inherits(PackerAsync, Stream);\n\n\nPackerAsync.prototype.pack = function(data, width, height, gamma) {\n  // Signature\n  this.emit('data', new Buffer(constants.PNG_SIGNATURE));\n  this.emit('data', this._packer.packIHDR(width, height));\n\n  if (gamma) {\n    this.emit('data', this._packer.packGAMA(gamma));\n  }\n\n  var filteredData = this._packer.filterData(data, width, height);\n\n  // compress it\n  this._deflate.on('error', this.emit.bind(this, 'error'));\n\n  this._deflate.on('data', function(compressedData) {\n    this.emit('data', this._packer.packIDAT(compressedData));\n  }.bind(this));\n\n  this._deflate.on('end', function() {\n    this.emit('data', this._packer.packIEND());\n    this.emit('end');\n  }.bind(this));\n\n  this._deflate.end(filteredData);\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAC9B,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AACtC,IAAIG,MAAM,GAAGH,OAAO,CAAC,UAAU,CAAC;AAEhC,IAAII,WAAW,GAAGC,MAAM,CAACC,OAAO,GAAG,UAASC,GAAG,EAAE;EAC/CN,MAAM,CAACO,IAAI,CAAC,IAAI,CAAC;EAEjB,IAAIC,OAAO,GAAGF,GAAG,IAAI,CAAC,CAAC;EAEvB,IAAI,CAACG,OAAO,GAAG,IAAIP,MAAM,CAACM,OAAO,CAAC;EAClC,IAAI,CAACE,QAAQ,GAAG,IAAI,CAACD,OAAO,CAACE,aAAa,CAAC,CAAC;EAE5C,IAAI,CAACC,QAAQ,GAAG,IAAI;AACtB,CAAC;AACDd,IAAI,CAACe,QAAQ,CAACV,WAAW,EAAEH,MAAM,CAAC;AAGlCG,WAAW,CAACW,SAAS,CAACC,IAAI,GAAG,UAASC,IAAI,EAAEC,KAAK,EAAEC,MAAM,EAAEC,KAAK,EAAE;EAChE;EACA,IAAI,CAACC,IAAI,CAAC,MAAM,EAAE,IAAIC,MAAM,CAACpB,SAAS,CAACqB,aAAa,CAAC,CAAC;EACtD,IAAI,CAACF,IAAI,CAAC,MAAM,EAAE,IAAI,CAACX,OAAO,CAACc,QAAQ,CAACN,KAAK,EAAEC,MAAM,CAAC,CAAC;EAEvD,IAAIC,KAAK,EAAE;IACT,IAAI,CAACC,IAAI,CAAC,MAAM,EAAE,IAAI,CAACX,OAAO,CAACe,QAAQ,CAACL,KAAK,CAAC,CAAC;EACjD;EAEA,IAAIM,YAAY,GAAG,IAAI,CAAChB,OAAO,CAACiB,UAAU,CAACV,IAAI,EAAEC,KAAK,EAAEC,MAAM,CAAC;;EAE/D;EACA,IAAI,CAACR,QAAQ,CAACiB,EAAE,CAAC,OAAO,EAAE,IAAI,CAACP,IAAI,CAACQ,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;EAExD,IAAI,CAAClB,QAAQ,CAACiB,EAAE,CAAC,MAAM,EAAE,UAASE,cAAc,EAAE;IAChD,IAAI,CAACT,IAAI,CAAC,MAAM,EAAE,IAAI,CAACX,OAAO,CAACqB,QAAQ,CAACD,cAAc,CAAC,CAAC;EAC1D,CAAC,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;EAEb,IAAI,CAAClB,QAAQ,CAACiB,EAAE,CAAC,KAAK,EAAE,YAAW;IACjC,IAAI,CAACP,IAAI,CAAC,MAAM,EAAE,IAAI,CAACX,OAAO,CAACsB,QAAQ,CAAC,CAAC,CAAC;IAC1C,IAAI,CAACX,IAAI,CAAC,KAAK,CAAC;EAClB,CAAC,CAACQ,IAAI,CAAC,IAAI,CAAC,CAAC;EAEb,IAAI,CAAClB,QAAQ,CAACsB,GAAG,CAACP,YAAY,CAAC;AACjC,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}