{"ast":null,"code":"\"use strict\";\n\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SystemRandomSource = void 0;\nconst browser_1 = require(\"./browser\");\nconst node_1 = require(\"./node\");\nclass SystemRandomSource {\n  constructor() {\n    this.isAvailable = false;\n    this.name = \"\";\n    // Try browser.\n    this._source = new browser_1.BrowserRandomSource();\n    if (this._source.isAvailable) {\n      this.isAvailable = true;\n      this.name = \"Browser\";\n      return;\n    }\n    // If no browser source, try Node.\n    this._source = new node_1.NodeRandomSource();\n    if (this._source.isAvailable) {\n      this.isAvailable = true;\n      this.name = \"Node\";\n      return;\n    }\n    // No sources, we're out of options.\n  }\n\n  randomBytes(length) {\n    if (!this.isAvailable) {\n      throw new Error(\"System random byte generator is not available.\");\n    }\n    return this._source.randomBytes(length);\n  }\n}\nexports.SystemRandomSource = SystemRandomSource;","map":{"version":3,"names":["browser_1","require","node_1","SystemRandomSource","constructor","isAvailable","name","_source","BrowserRandomSource","NodeRandomSource","randomBytes","length","Error","exports"],"sources":["../../source/system.ts"],"sourcesContent":[null],"mappings":";;AAAA;AACA;;;;;AAGA,MAAAA,SAAA,GAAAC,OAAA;AACA,MAAAC,MAAA,GAAAD,OAAA;AAEA,MAAaE,kBAAkB;EAK3BC,YAAA;IAJA,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,IAAI,GAAG,EAAE;IAIL;IACA,IAAI,CAACC,OAAO,GAAG,IAAIP,SAAA,CAAAQ,mBAAmB,EAAE;IACxC,IAAI,IAAI,CAACD,OAAO,CAACF,WAAW,EAAE;MAC1B,IAAI,CAACA,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,IAAI,GAAG,SAAS;MACrB;;IAGJ;IACA,IAAI,CAACC,OAAO,GAAG,IAAIL,MAAA,CAAAO,gBAAgB,EAAE;IACrC,IAAI,IAAI,CAACF,OAAO,CAACF,WAAW,EAAE;MAC1B,IAAI,CAACA,WAAW,GAAG,IAAI;MACvB,IAAI,CAACC,IAAI,GAAG,MAAM;MAClB;;IAGJ;EACJ;;EAEAI,WAAWA,CAACC,MAAc;IACtB,IAAI,CAAC,IAAI,CAACN,WAAW,EAAE;MACnB,MAAM,IAAIO,KAAK,CAAC,gDAAgD,CAAC;;IAErE,OAAO,IAAI,CAACL,OAAO,CAACG,WAAW,CAACC,MAAM,CAAC;EAC3C;;AA9BJE,OAAA,CAAAV,kBAAA,GAAAA,kBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}