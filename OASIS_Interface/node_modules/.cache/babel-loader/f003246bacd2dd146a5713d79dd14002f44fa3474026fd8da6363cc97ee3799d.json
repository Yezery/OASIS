{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport ad from \"@/views/main/AD/ad.vue\";\nimport balanceEchart from \"@/views/bar/balanceEchart.vue\";\nimport ad2 from \"@/views/main/AD/ADslots/ad2.vue\";\nimport ad1 from \"@/views/main/AD/ADslots/ad1.vue\";\n// import { search } from \"@/api/axios/ownerContractLIst\";\nimport { getSaleList } from \"@/api/axios/contract\";\nexport default {\n  components: {\n    ad,\n    ad1,\n    ad2,\n    balanceEchart\n  },\n  data() {\n    return {\n      SearchVo: {\n        key: \"\",\n        isActive: false,\n        page: 0,\n        pageSize: 10,\n        minPrice: \"\",\n        maxPrice: \"\",\n        minmaximums: \"\",\n        maxmaximums: \"\"\n      },\n      SearchList: [],\n      NFTList: [],\n      contract: null,\n      filteredNFTList: [],\n      SaleList3D: [],\n      isLoading: true,\n      activeTable: \"table1\",\n      toSearch: false\n    };\n  },\n  async mounted() {\n    await getSaleList().then(re => {\n      this.NFTList = re;\n      this.filteredNFTList = re.filter(NFT => NFT.isActive && JSON.parse(NFT[6]).description !== \"3D\");\n      this.filteredNFTList.sort((a, b) => Number(a.price) - Number(b.price));\n      this.SaleList3D = re.filter(NFT => NFT.isActive && JSON.parse(NFT[6]).description == \"3D\");\n      this.SaleList3D.sort((a, b) => Number(a.price) - Number(b.price));\n    });\n  },\n  watch: {\n    SearchVo: {\n      handler(newVal) {\n        console.log(newVal);\n        // if (newVal.key == \"\") {\n        //   this.$store.commit(\"setIsSearch\", false);\n        // }\n        //   search(this.SearchVo).then((re) => {\n        //   this.SearchList = re.data.data;\n        // });\n        console.log(this.SearchList);\n      },\n      deep: true\n    }\n  },\n  methods: {\n    async SearchNFT(opt) {\n      if (opt == 2) {\n        this.SearchVo.page += 1;\n      }\n      this.toSearch = true;\n      // await search(this.SearchVo).then((re) => {\n      //   this.SearchList = re.data.data;\n      // });\n      // if (this.SearchList.length !=0) {\n      //   this.$notify({\n      //   title: `查询到${this.SearchList.length}个相关NFT`,\n      //   type: \"success\",\n      //   position: \"top-left\",\n      //   duration: 1000,\n      //   offset: 200,\n      //   });\n      //   this.$store.commit(\"setIsSearch\", true);\n      // }\n      // this.$store.commit(\"setIsSearch\", false);\n    },\n\n    GETHashAvatar(address) {\n      return \"data:image/png;base64,\" + new this.Identicon(address, 120).toString();\n    },\n    toInfPage(row) {\n      let NFTInf = {\n        saleId: row.saleId,\n        image: JSON.parse(row.tokenURI).image,\n        nftName: JSON.parse(row.tokenURI).name,\n        description: JSON.parse(row.tokenURI).description,\n        nftAddress: row.nftContract,\n        tokenId: row.tokenId,\n        isActive: row.isActive,\n        seller: row.seller,\n        price: row.price\n      };\n      this.$store.commit(\"setNFTInf\", NFTInf);\n      this.$router.push({\n        path: \"/home/NFTInf\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["ad","balanceEchart","ad2","ad1","getSaleList","components","data","SearchVo","key","isActive","page","pageSize","minPrice","maxPrice","minmaximums","maxmaximums","SearchList","NFTList","contract","filteredNFTList","SaleList3D","isLoading","activeTable","toSearch","mounted","then","re","filter","NFT","JSON","parse","description","sort","a","b","Number","price","watch","handler","newVal","console","log","deep","methods","SearchNFT","opt","GETHashAvatar","address","Identicon","toString","toInfPage","row","NFTInf","saleId","image","tokenURI","nftName","name","nftAddress","nftContract","tokenId","seller","$store","commit","$router","push","path"],"sources":["src/views/main/marketShop/nftMarket.vue"],"sourcesContent":["<template>\n  <div class=\"MainWindow animate__animated animate__fadeInLeft\">\n    <!-- animate__animated animate__fadeInDown/ -->\n    <div class=\"leftMain\">\n      <div class=\"ad \">\n        <ad>\n          <template #ad1>\n            <ad1 />\n          </template>\n          <template #ad2>\n            <ad2 />\n          </template>\n          <template #ad3>\n            <img src=\"../../../assets/AD2Assets/MotorShow 2023.png\" alt=\"\" width=\"100%\" height=\"100%\" style=\"  object-fit: cover;\">\n          </template>\n          <template #ad4>\n            <img src=\"../../../assets/webAssets/logoWhite.png\" alt=\"\" width=\"100%\" height=\"100%\" style=\"  object-fit: fill;\">\n          </template>\n        </ad>\n      </div>\n      <div class=\"MarketMain\">\n <div class=\"SellIndex \">\n          <div class=\"SellIndexInner\">\n            <div class=\"marketShopMain \">\n              <el-table :data=\"filteredNFTList.slice(0, 10)\" class=\"marketShopTableLeft\" @row-click=\"toInfPage\">\n                <template slot=\"empty\">\n                  <div>\n                    <img style=\"padding: 10% 0 0 0;\" width=\"20%\" height=\"20%\" src=\"@/assets/webAssets/MetaMask.png\" alt=\"\">\n                    <h4 style=\"padding: 0 0 10% 0\">\n                      浏览器未连接Metamask\n                    </h4>\n                  </div>\n                </template>\n                <el-table-column type=\"index\" width=\"70\" label=\"Rank\" />\n                <el-table-column label=\"藏品\">\n                  <template slot-scope=\"scope\">\n                    <div class=\"collectionRow\">\n                      <div class=\"collectionImageBorder\" style=\"display: inline-block;\">\n                        <img class=\"nftImage\" :src=\"JSON.parse(scope.row.tokenURI).image\" alt=\"\">\n                      </div>\n                      <div style=\"padding-left: 20px; font-size: 1vw; display: inline-block;\">\n                        {{ JSON.parse(scope.row.tokenURI).name.toUpperCase() }}\n                        <span style=\"font-size: 0.5vw;\">\n                          #{{ scope.row.tokenId }}\n                        </span>\n                      </div>\n                    </div>\n                  </template>\n                </el-table-column>\n                <el-table-column align=\"center\" label=\"价格\" fixed=\"right\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <h4> {{ $store.state.Web3.utils.fromWei(scope.row.price, 'ether') }} ETH</h4>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"rightMain\">\n      <div class=\"balanceEchartBox\">\n        <balanceEchart />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import ad from \"@/views/main/AD/ad.vue\";\n  import balanceEchart from \"@/views/bar/balanceEchart.vue\";\n  import ad2 from \"@/views/main/AD/ADslots/ad2.vue\";\n  import ad1 from \"@/views/main/AD/ADslots/ad1.vue\";\n  // import { search } from \"@/api/axios/ownerContractLIst\";\n  import { getSaleList } from \"@/api/axios/contract\";\n  export default {\n    components: { ad, ad1, ad2, balanceEchart },\n    data() {\n      return {\n        SearchVo: {\n          key: \"\",\n          isActive: false,\n          page: 0,\n          pageSize: 10,\n          minPrice: \"\",\n          maxPrice: \"\",\n          minmaximums: \"\",\n          maxmaximums: \"\",\n        },\n        SearchList: [],\n        NFTList: [],\n        contract: null,\n        filteredNFTList: [],\n        SaleList3D: [],\n        isLoading: true,\n\n        activeTable: \"table1\",\n        toSearch: false,\n      };\n    },\n    async mounted() {\n      await getSaleList().then((re) => {\n        this.NFTList = re;\n        this.filteredNFTList = re.filter(\n          (NFT) => NFT.isActive && JSON.parse(NFT[6]).description !== \"3D\"\n        );\n        this.filteredNFTList.sort((a, b) => Number(a.price) - Number(b.price));\n        this.SaleList3D = re.filter(\n          (NFT) => NFT.isActive && JSON.parse(NFT[6]).description == \"3D\"\n        );\n        this.SaleList3D.sort((a, b) => Number(a.price) - Number(b.price));\n      });\n    },\n    watch: {\n      SearchVo: {\n        handler(newVal) {\n          console.log(newVal);\n          // if (newVal.key == \"\") {\n          //   this.$store.commit(\"setIsSearch\", false);\n          // }\n          //   search(this.SearchVo).then((re) => {\n          //   this.SearchList = re.data.data;\n          // });\n          console.log(this.SearchList);\n        },\n        deep: true,\n      },\n    },\n    methods: {\n      async SearchNFT(opt) {\n        if (opt == 2) {\n          this.SearchVo.page += 1;\n        }\n        this.toSearch = true;\n        // await search(this.SearchVo).then((re) => {\n        //   this.SearchList = re.data.data;\n        // });\n        // if (this.SearchList.length !=0) {\n        //   this.$notify({\n        //   title: `查询到${this.SearchList.length}个相关NFT`,\n        //   type: \"success\",\n        //   position: \"top-left\",\n        //   duration: 1000,\n        //   offset: 200,\n        //   });\n        //   this.$store.commit(\"setIsSearch\", true);\n        // }\n        // this.$store.commit(\"setIsSearch\", false);\n      },\n      GETHashAvatar(address) {\n        return (\n          \"data:image/png;base64,\" + new this.Identicon(address, 120).toString()\n        );\n      },\n      toInfPage(row) { \n        let NFTInf = {\n          saleId: row.saleId,\n          image: JSON.parse(row.tokenURI).image,\n          nftName: JSON.parse(row.tokenURI).name,\n          description: JSON.parse(row.tokenURI).description,\n          nftAddress: row.nftContract,\n          tokenId: row.tokenId,\n          isActive: row.isActive,\n          seller: row.seller,\n          price: row.price,\n        };\n        this.$store.commit(\"setNFTInf\", NFTInf);\n        this.$router.push({\n          path: \"/home/NFTInf\",\n        });\n      },\n    },\n  };\n</script>\n<style lang=\"scss\" scoped>\n@import \"@/style/marketShop/marketShop.scss\";\n</style>\n\n"],"mappings":";AAqEA,OAAAA,EAAA;AACA,OAAAC,aAAA;AACA,OAAAC,GAAA;AACA,OAAAC,GAAA;AACA;AACA,SAAAC,WAAA;AACA;EACAC,UAAA;IAAAL,EAAA;IAAAG,GAAA;IAAAD,GAAA;IAAAD;EAAA;EACAK,KAAA;IACA;MACAC,QAAA;QACAC,GAAA;QACAC,QAAA;QACAC,IAAA;QACAC,QAAA;QACAC,QAAA;QACAC,QAAA;QACAC,WAAA;QACAC,WAAA;MACA;MACAC,UAAA;MACAC,OAAA;MACAC,QAAA;MACAC,eAAA;MACAC,UAAA;MACAC,SAAA;MAEAC,WAAA;MACAC,QAAA;IACA;EACA;EACA,MAAAC,QAAA;IACA,MAAApB,WAAA,GAAAqB,IAAA,CAAAC,EAAA;MACA,KAAAT,OAAA,GAAAS,EAAA;MACA,KAAAP,eAAA,GAAAO,EAAA,CAAAC,MAAA,CACAC,GAAA,IAAAA,GAAA,CAAAnB,QAAA,IAAAoB,IAAA,CAAAC,KAAA,CAAAF,GAAA,KAAAG,WAAA,SACA;MACA,KAAAZ,eAAA,CAAAa,IAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,MAAA,CAAAF,CAAA,CAAAG,KAAA,IAAAD,MAAA,CAAAD,CAAA,CAAAE,KAAA;MACA,KAAAhB,UAAA,GAAAM,EAAA,CAAAC,MAAA,CACAC,GAAA,IAAAA,GAAA,CAAAnB,QAAA,IAAAoB,IAAA,CAAAC,KAAA,CAAAF,GAAA,KAAAG,WAAA,QACA;MACA,KAAAX,UAAA,CAAAY,IAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,MAAA,CAAAF,CAAA,CAAAG,KAAA,IAAAD,MAAA,CAAAD,CAAA,CAAAE,KAAA;IACA;EACA;EACAC,KAAA;IACA9B,QAAA;MACA+B,QAAAC,MAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,MAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACAC,OAAA,CAAAC,GAAA,MAAAzB,UAAA;MACA;MACA0B,IAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,UAAAC,GAAA;MACA,IAAAA,GAAA;QACA,KAAAtC,QAAA,CAAAG,IAAA;MACA;MACA,KAAAa,QAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACAuB,cAAAC,OAAA;MACA,OACA,oCAAAC,SAAA,CAAAD,OAAA,OAAAE,QAAA;IAEA;IACAC,UAAAC,GAAA;MACA,IAAAC,MAAA;QACAC,MAAA,EAAAF,GAAA,CAAAE,MAAA;QACAC,KAAA,EAAAzB,IAAA,CAAAC,KAAA,CAAAqB,GAAA,CAAAI,QAAA,EAAAD,KAAA;QACAE,OAAA,EAAA3B,IAAA,CAAAC,KAAA,CAAAqB,GAAA,CAAAI,QAAA,EAAAE,IAAA;QACA1B,WAAA,EAAAF,IAAA,CAAAC,KAAA,CAAAqB,GAAA,CAAAI,QAAA,EAAAxB,WAAA;QACA2B,UAAA,EAAAP,GAAA,CAAAQ,WAAA;QACAC,OAAA,EAAAT,GAAA,CAAAS,OAAA;QACAnD,QAAA,EAAA0C,GAAA,CAAA1C,QAAA;QACAoD,MAAA,EAAAV,GAAA,CAAAU,MAAA;QACAzB,KAAA,EAAAe,GAAA,CAAAf;MACA;MACA,KAAA0B,MAAA,CAAAC,MAAA,cAAAX,MAAA;MACA,KAAAY,OAAA,CAAAC,IAAA;QACAC,IAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}