{"ast":null,"code":"import { Parser } from \"./parser.js\";\n// See https://stackoverflow.com/questions/166132/maximum-length-of-the-textual-representation-of-an-ipv6-address\nconst MAX_IPV6_LENGTH = 45;\nconst MAX_IPV4_LENGTH = 15;\nconst parser = new Parser();\n/** Parse `input` into IPv4 bytes. */\nexport function parseIPv4(input) {\n  if (input.length > MAX_IPV4_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPv4Addr());\n}\n/** Parse `input` into IPv6 bytes. */\nexport function parseIPv6(input) {\n  // strip zone index if it is present\n  if (input.includes(\"%\")) {\n    input = input.split(\"%\")[0];\n  }\n  if (input.length > MAX_IPV6_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPv6Addr());\n}\n/** Parse `input` into IPv4 or IPv6 bytes. */\nexport function parseIP(input) {\n  // strip zone index if it is present\n  if (input.includes(\"%\")) {\n    input = input.split(\"%\")[0];\n  }\n  if (input.length > MAX_IPV6_LENGTH) {\n    return undefined;\n  }\n  return parser.new(input).parseWith(() => parser.readIPAddr());\n}","map":{"version":3,"names":["Parser","MAX_IPV6_LENGTH","MAX_IPV4_LENGTH","parser","parseIPv4","input","length","undefined","new","parseWith","readIPv4Addr","parseIPv6","includes","split","readIPv6Addr","parseIP","readIPAddr"],"sources":["../src/parse.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,MAAM,QAAQ,aAAa;AAEpC;AACA,MAAMC,eAAe,GAAG,EAAE;AAC1B,MAAMC,eAAe,GAAG,EAAE;AAE1B,MAAMC,MAAM,GAAG,IAAIH,MAAM,EAAE;AAE3B;AACA,OAAM,SAAUI,SAASA,CAACC,KAAa;EACrC,IAAIA,KAAK,CAACC,MAAM,GAAGJ,eAAe,EAAE;IAClC,OAAOK,SAAS;;EAElB,OAAOJ,MAAM,CAACK,GAAG,CAACH,KAAK,CAAC,CAACI,SAAS,CAAC,MAAMN,MAAM,CAACO,YAAY,EAAE,CAAC;AACjE;AAEA;AACA,OAAM,SAAUC,SAASA,CAACN,KAAa;EACrC;EACA,IAAIA,KAAK,CAACO,QAAQ,CAAC,GAAG,CAAC,EAAE;IACvBP,KAAK,GAAGA,KAAK,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;EAE7B,IAAIR,KAAK,CAACC,MAAM,GAAGL,eAAe,EAAE;IAClC,OAAOM,SAAS;;EAElB,OAAOJ,MAAM,CAACK,GAAG,CAACH,KAAK,CAAC,CAACI,SAAS,CAAC,MAAMN,MAAM,CAACW,YAAY,EAAE,CAAC;AACjE;AAEA;AACA,OAAM,SAAUC,OAAOA,CAACV,KAAa;EACnC;EACA,IAAIA,KAAK,CAACO,QAAQ,CAAC,GAAG,CAAC,EAAE;IACvBP,KAAK,GAAGA,KAAK,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;EAE7B,IAAIR,KAAK,CAACC,MAAM,GAAGL,eAAe,EAAE;IAClC,OAAOM,SAAS;;EAElB,OAAOJ,MAAM,CAACK,GAAG,CAACH,KAAK,CAAC,CAACI,SAAS,CAAC,MAAMN,MAAM,CAACa,UAAU,EAAE,CAAC;AAC/D"},"metadata":{},"sourceType":"module","externalDependencies":[]}